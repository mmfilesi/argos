{"version":3,"sources":["argos-api-rest.js","argos-config.js","argos-dom.js","argos-forms.js","argos-globals.js","argos-json-utils.js","argos-log-errors.js","argos-log.js","argos-msg.js","argos-rest-utils.js","argos-router.js","argos-utils.js","argos-views-utils.js","argos-views.js"],"names":["ApiRest","optionsOverride","options","_setOptions","restUtils","getOptionsDefault","prop","optionsDefault","hasOwnProperty","req","i","len","setRequestHeader","type","charset","headers","length","key","value","resource","verb","aditionalData","deferred","Q","defer","XMLHttpRequest","queryString","prepareQueryString","postData","JSON","stringify","serverResponse","open","_setHeaders","onreadystatechange","e","readyState","prepareResponse","isValid","errorInterceptor","showErrorServer","errorDescription","reject","showPreload","hidePreloader","resolve","content","showPreloader","send","promise","_doRequest","putData","deleteData","config","module","self","_configGeneral","_optionsState","_serviceWorkers","init","urlConfig","restOptions","instanceRest","getResource","then","data","_initAll","error","log","environment","generalData","lang","active","serviceWorkers","rest","setOptionsDefault","setSpecialCodes","specialCodes","optionsState","forceEntry","defaultState","getOptionsState","getServiceWorkers","getEnvironment","getLang","argosDom","params","selector","document","querySelectorAll","Ar","methods","hide","classList","add","show","remove","toggle","addClass","classAdd","removeClass","classRemove","toggleClass","classToggle","setStyle","style","fade","text","textContent","html","indexOf","innerHTML","parentNode","removeChild","onRender","node","timer","interval","timeCount","setTimeout","clearTimeout","nodeToCheck","isEmpty","obj","object","openModal","idModal","modal","getElementById","setAttribute","closeModal","fn","prototype","window","forms","getValues","idForm","nodes","jsonForm","radioInputs","warning","toLowerCase","name","getAttribute","getValue","push","_node_","idNode","tagName","trim","checked","querySelector","_getMultiSelectValues","selectedValues","selected","enabled","_setEnabled","disabled","enab","required","_setRequired","notRequired","resetErrors","checkRequired","checkType","customValidation","addError","_checkIsNumber","_checkIsString","_checkIsEmail","rule","test","RegExp","errorType","errorString","globals","getTexts","formValidations","isRequired","wrongFormat","insertAdjacentHTML","addErrorMsg","msg","stringHTML","allStates","allTexts","allEndPoints","currentState","getAllStates","loadAllStates","uri","states","setCurrentState","_state_","_section_","state","section","getCurrentState","loadTexts","loadRest","prepareRest","prefix","baseUrl","suffix","endPoints","getRest","jsonUtils","copyObject","obToCopy","parse","findInArray","_array_","valueToFind","_array","findInObject","logErrors","addListeners","onerror","message","source","lineno","colno","success","console","table","_lastClass","showError","header","body","_showMsg","showWarning","showSuccess","showMsg","msgElement","msgHeader","msgBody","codes","validation","response","parseResponse","responseText","blockingErrors400","blockingErrors500","status","statusText","result","code","serverError","target","validCode","checkTokenExpired","tokenSanExpiration","resetToken","newOptions","query","output","call","slice","getSpecialCodes","errorMsg","router","stateSelected","checkIsSupported","history","addEventListener","setRoute","argumentsFn","split","stateGo","findRouteByUrl","entry","url","views","loadView","executeFunction","replaceState","resetStateSelected","currentHash","location","hash","findRouteByState","replace","getQueryString","search","substring","temp","itemTemp","cleanQueryString","href","shift","pushState","functionName","_context_","context","args","Array","namespaces","func","pop","apply","stateIsDefined","utils","viewPort","isAndroid","navigator","userAgent","match","isiOS","isFirefox","isMobile","getNavigator","viewsUtils","renderTemplate","_data_","_source_","_container_","template","Handlebars","compile","compiledTemplate","container","ctrlsLoaded","tplsLoaded","scriptsContainer","tplsContainer","allPromisses","currentCtrl","firstChild","controllers","loadControllers","templates","loadTemplates","all","results","checkAllReady","timeout","getNameController","controller","ctrlName","charAt","toUpperCase","nodeScript","createElement","controllerName","src","id","onload","addCtrlLoaded","appendChild","templatePath","templateScript","check","entryCtrl","toString"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoDMA;AAEJ,mBAAYC,eAAZ,EAA6B;AAAA;;AAC3B,SAAKC,OAAL,GAAeD,kBAAkB,KAAKE,WAAL,CAAiBF,eAAjB,CAAlB,GAAsDG,UAAUC,iBAAV,EAArE;AACD;;AAED;;;;;;;;;;gCAMYJ,iBAAiB;AAC3B,UAAIK,aAAJ;AACA,UAAIC,iBAAiBH,UAAUC,iBAAV,EAArB;;AAEA,WAAKC,IAAL,IAAaL,eAAb,EAA8B;AAC5B,YAAKM,eAAeC,cAAf,CAA8BF,IAA9B,CAAL,EAA2C;AACzCC,yBAAeD,IAAf,IAAuBL,gBAAgBK,IAAhB,CAAvB;AACD;AACF;AACD,aAAOC,cAAP;AACD;;AAED;;;;;;;;;gCAMYE,KAAK;AACf,UAAIC,IAAI,CAAR;AACA,UAAIC,YAAJ;;AAEA,UAAK,KAAKT,OAAL,CAAaM,cAAb,CAA4B,MAA5B,CAAL,EAA2C;AACzCC,YAAIG,gBAAJ,CAAqB,cAArB,EAAqC,KAAKV,OAAL,CAAaW,IAAb,GAAmB,YAAnB,GAAgC,KAAKX,OAAL,CAAaY,OAAlF;AACD;AACD,UAAK,KAAKZ,OAAL,CAAaM,cAAb,CAA4B,SAA5B,KAA0C,KAAKN,OAAL,CAAaa,OAAb,CAAqBC,MAApE,EAA6E;AAC3EL,cAAM,KAAKT,OAAL,CAAaa,OAAb,CAAqBC,MAA3B;AACA,eAAON,IAAEC,GAAT,EAAcD,GAAd,EAAoB;AAClBD,cAAIG,gBAAJ,CAAqB,KAAKV,OAAL,CAAaa,OAAb,CAAqBL,CAArB,EAAwBO,GAA7C,EAAkD,KAAKf,OAAL,CAAaa,OAAb,CAAqBL,CAArB,EAAwBQ,KAA1E;AACD;AACF;AACD,aAAOT,GAAP;AACD;;AAED;;;;;;;;;+BAMWU,UAAUC,MAAMC,eAAe;AAAA;;AACxC,UAAIC,WAAYC,EAAEC,KAAF,EAAhB;AACA,UAAIf,MAAgB,IAAIgB,cAAJ,EAApB;AACA,UAAIC,cAAgBN,SAAS,KAAT,IAAkB,QAAOC,aAAP,yCAAOA,aAAP,OAAyB,QAA3C,GAAsDjB,UAAUuB,kBAAV,CAA6BN,aAA7B,CAAtD,GAAoG,EAAxH;AACA,UAAIO,WAAgBR,SAAS,KAAT,IAAkBC,aAAlB,GAAkCQ,KAAKC,SAAL,CAAeT,aAAf,CAAlC,GAAkE,EAAtF;AACA,UAAIU,iBAAiB,EAArB;;AAEAtB,UAAIuB,IAAJ,CAASZ,IAAT,EAAeD,WAAWO,WAA1B,EAAuC,IAAvC;AACAjB,YAAM,KAAKwB,WAAL,CAAiBxB,GAAjB,CAAN;;AAEAA,UAAIyB,kBAAJ,GAAyB,UAACC,CAAD,EAAM;AAC7B,YAAK1B,IAAI2B,UAAJ,KAAmB,CAAxB,EAA4B;AAC1B;AACD;AACDL,yBAAiB3B,UAAUiC,eAAV,CAA0BF,CAA1B,EAA6B1B,GAA7B,EAAkC,MAAKP,OAAvC,CAAjB;;AAEA,YAAK,CAAC6B,eAAeO,OAAhB,IAA2B,MAAKpC,OAAL,CAAaqC,gBAA7C,EAAgE;AAC5DnC,oBAAUoC,eAAV,CAA0BT,eAAeU,gBAAzC;AACAnB,mBAASoB,MAAT,CAAgBX,eAAeU,gBAA/B;AAEH,SAJD,MAIO;AACL,cAAK,MAAKvC,OAAL,CAAayC,WAAlB,EAAgC;AAC9BvC,sBAAUwC,aAAV;AACD;AACFtB,mBAASuB,OAAT,CAAiBd,eAAee,OAAhC;AACA;AACF,OAhBD;;AAkBA,UAAK,KAAK5C,OAAL,CAAayC,WAAlB,EAAgC;AAC9BvC,kBAAU2C,aAAV;AACD;;AAEDtC,UAAIuC,IAAJ,CAASpB,QAAT;AACA,aAAON,SAAS2B,OAAhB;AACD;;AAED;;;;;;;;;;;;gCASY9B,UAAUO,aAAa;AACjC,aAAO,KAAKwB,UAAL,CAAgB/B,QAAhB,EAA0B,KAA1B,EAAiCO,WAAjC,CAAP;AACD;;AAED;;;;;;;;;;;;iCASaP,UAAUS,UAAU;AAC/B,aAAO,KAAKsB,UAAL,CAAgB/B,QAAhB,EAA0B,MAA1B,EAAkCS,QAAlC,CAAP;AACD;;AAED;;;;;;;;;;;;gCASYT,UAAUgC,SAAS;AAC7B,aAAO,KAAKD,UAAL,CAAgB/B,QAAhB,EAA0B,KAA1B,EAAiCgC,OAAjC,CAAP;AACD;;AAGD;;;;;;;;;;;;mCASehC,UAAUiC,YAAY;AACnC,aAAO,KAAKF,UAAL,CAAgB/B,QAAhB,EAA0B,QAA1B,EAAoCiC,UAApC,CAAP;AACD;;;;KC/LH;;;;;AAKA;;AAEA,IAAMC,SAAU,YAAW;;AAEzB,MAAIC,SAAU,EAAd;AACA,MAAIC,OAAUD,MAAd;;AAEA;;;;;;;AAOAA,SAAOE,cAAP,GAAyB;AACzB,mBAAe,SADU;AAEzB,YAAQ;AAFiB,GAAzB;;AAKA;;;;;;;AAODF,SAAOG,aAAP,GAAuB;AACpB,kBAAc,KADM;AAEpB,oBAAgB;AAFI,GAAvB;;AAKC;;;;;;AAMAH,SAAOI,eAAP,GAAyB;AACvB,cAAU;AADa,GAAzB;;AAIA;;;;;;;AAOAJ,SAAOK,IAAP,GAAc,YAAK;AACjB,QAAIrC,WAAWC,EAAEC,KAAF,EAAf;AACA,QAAIoC,YAAY,2BAAhB;AACA,QAAIC,cAAc;AAChB,cAAQ,kBADQ;AAEhB,qBAAe,KAFC;AAGhB,0BAAoB;AAHJ,KAAlB;AAKA,QAAIC,eAAe,IAAI9D,OAAJ,CAAY6D,WAAZ,CAAnB;;AAEAC,iBAAaC,WAAb,CAAyBH,SAAzB,EAAoCI,IAApC,CACE,UAACC,IAAD,EAAS;AACPV,WAAKW,QAAL,CAAcD,IAAd;AACA3C,eAASuB,OAAT;AACD,KAJH,EAKE,UAACsB,KAAD,EAAW;AACTC,UAAID,KAAJ,CAAU,4BAA2BA,KAArC;AACA7C,eAASoB,MAAT;AACD,KARH;AASE,WAAOpB,SAAS2B,OAAhB;AACH,GApBD;;AAsBA;;;;;;AAMAK,SAAOY,QAAP,GAAkB,UAACD,IAAD,EAAS;AACzBV,SAAKC,cAAL,CAAoBa,WAApB,GAAmCJ,KAAKK,WAAL,CAAiBD,WAApD;AACAd,SAAKC,cAAL,CAAoBe,IAApB,GAAmCN,KAAKK,WAAL,CAAiBC,IAApD;AACAhB,SAAKG,eAAL,CAAqBc,MAArB,GAAmCP,KAAKQ,cAAL,CAAoBD,MAAvD;;AAEA,QAAKP,KAAKS,IAAL,CAAUlE,cAAV,CAAyB,aAAzB,CAAL,EAA+C;AAC7CJ,gBAAUuE,iBAAV,CAA4BV,KAAKS,IAAL,CAAUb,WAAtC;AACD;AACD,QAAKI,KAAKS,IAAL,CAAUlE,cAAV,CAAyB,cAAzB,CAAL,EAAgD;AAC9CJ,gBAAUwE,eAAV,CAA0BX,KAAKS,IAAL,CAAUG,YAApC;AACD;AACD,QAAMZ,KAAKzD,cAAL,CAAoB,cAApB,KAAuCyD,KAAKa,YAAL,CAAkBtE,cAAlB,CAAiC,YAAjC,CAA7C,EAA8F;AAC5F+C,WAAKE,aAAL,CAAmBsB,UAAnB,GAAmCd,KAAKa,YAAL,CAAkBC,UAArD;AACAxB,WAAKE,aAAL,CAAmBuB,YAAnB,GAAmCf,KAAKa,YAAL,CAAkBE,YAArD;AACD;AACF,GAfD;;AAiBA;;;;;;;AAOA1B,SAAO2B,eAAP,GAAyB,YAAM;AAC7B,WAAO1B,KAAKE,aAAZ;AACD,GAFD;;AAIA;;;;;;;AAOAH,SAAO4B,iBAAP,GAA2B,YAAM;AAC/B,WAAO3B,KAAKG,eAAZ;AACD,GAFD;;AAIA;;;;;;;AAOAJ,SAAO6B,cAAP,GAAwB,YAAK;AAC3B,WAAO5B,KAAKC,cAAL,CAAoBa,WAA3B;AACD,GAFD;;AAIA;;;;;;;AAOAf,SAAO8B,OAAP,GAAkB,YAAK;AACrB,WAAO7B,KAAKC,cAAL,CAAoBe,IAA3B;AACD,GAFD;;AAIA,SAAO;AACLZ,UAAoBL,OAAOK,IADtB;AAELsB,qBAAoB3B,OAAO2B,eAFtB;AAGLE,oBAAoB7B,OAAO6B,cAHtB;AAILC,aAAoB9B,OAAO8B,OAJtB;AAKLF,uBAAoB5B,OAAO4B;AALtB,GAAP;AAQA,CA/Ia,EAAf;;ACPA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,CAAC,YAAY;;AAEX,MAAMG,WAAW,SAAXA,QAAW,CAAUC,MAAV,EAAkB;AACjC,QAAIC,WAAWC,SAASC,gBAAT,CAA0BH,MAA1B,CAAf;AACA,QAAI5E,IAAI,CAAR;AACA,SAAKM,MAAL,GAAcuE,SAASvE,MAAvB;;AAEA,WAAON,IAAI,KAAKM,MAAhB,EAAwBN,GAAxB,EAA6B;AAC3B,WAAKA,CAAL,IAAU6E,SAAS7E,CAAT,CAAV;AACD;AACD,WAAO,IAAP;AACD,GATD;;AAWA,MAAMgF,KAAK,SAALA,EAAK,CAASJ,MAAT,EAAiB;AAC1B,WAAO,IAAID,QAAJ,CAAaC,MAAb,CAAP;AACD,GAFD;;AAIA,MAAMK,UAAU,EAAhB;;AAEAA,UAAQpC,IAAR,GAAe,IAAf;;AAEAoC,UAAQC,IAAR,GAAe,YAAW;AACxB,QAAIjF,MAAM,KAAKK,MAAf;;AAEA,WAAOL,KAAP,EAAc;AACZ,WAAKA,GAAL,EAAUkF,SAAV,CAAoBC,GAApB,CAAwB,YAAxB;AACD;AACD,WAAO,IAAP;AACD,GAPD;;AASAH,UAAQI,IAAR,GAAe,YAAW;AACxB,QAAIpF,MAAM,KAAKK,MAAf;;AAEA,WAAOL,KAAP,EAAc;AACZ,WAAKA,GAAL,EAAUkF,SAAV,CAAoBG,MAApB,CAA2B,YAA3B;AACD;AACD,WAAO,IAAP;AACD,GAPD;;AASAL,UAAQM,MAAR,GAAiB,YAAW;AAC1B,QAAItF,MAAM,KAAKK,MAAf;;AAEA,WAAOL,KAAP,EAAc;AACZ,WAAKA,GAAL,EAAUkF,SAAV,CAAoBI,MAApB,CAA2B,YAA3B;AACD;AACD,WAAO,IAAP;AACD,GAPD;;AASAN,UAAQO,QAAR,GAAmB,UAASC,QAAT,EAAmB;AACpC,QAAIxF,MAAM,KAAKK,MAAf;;AAEA,QAAKmF,QAAL,EAAgB;AACd,aAAOxF,KAAP,EAAc;AACZ,aAAKA,GAAL,EAAUkF,SAAV,CAAoBC,GAApB,CAAwBK,QAAxB;AACD;AACF;AACD,WAAO,IAAP;AACD,GATD;;AAWAR,UAAQS,WAAR,GAAsB,UAASC,WAAT,EAAsB;AAC1C,QAAI1F,MAAM,KAAKK,MAAf;;AAEA,QAAKqF,WAAL,EAAmB;AACjB,aAAO1F,KAAP,EAAc;AACZ,aAAKA,GAAL,EAAUkF,SAAV,CAAoBG,MAApB,CAA2BK,WAA3B;AACD;AACF;AACD,WAAO,IAAP;AACD,GATD;;AAWAV,UAAQW,WAAR,GAAsB,UAASC,WAAT,EAAsB;AAC1C,QAAI5F,MAAM,KAAKK,MAAf;;AAEA,QAAIuF,WAAJ,EAAkB;AAChB,aAAO5F,KAAP,EAAc;AACZ,aAAKA,GAAL,EAAUkF,SAAV,CAAoBI,MAApB,CAA2BM,WAA3B;AACD;AACF;AACD,WAAO,IAAP;AACD,GATD;;AAWAZ,UAAQa,QAAR,GAAmB,UAASC,KAAT,EAAgBvF,KAAhB,EAAuB;AACxC,QAAIP,MAAM,KAAKK,MAAf;;AAEA,QAAKyF,SAASvF,KAAd,EAAsB;AACpB,aAAOP,KAAP,EAAc;AACZ,aAAKA,GAAL,EAAU8F,KAAV,CAAgBA,KAAhB,IAAyBvF,KAAzB;AACD;AACF;AACD,WAAO,IAAP;AACD,GATD;;AAWAyE,UAAQe,IAAR,GAAe,YAAW;AACxB,QAAI/F,MAAM,KAAKK,MAAf;;AAEA,WAAOL,KAAP,EAAc;AACZ,WAAKA,GAAL,EAAUkF,SAAV,CAAoBC,GAApB,CAAwB,MAAxB;AACA,WAAKnF,GAAL,EAAUkF,SAAV,CAAoBC,GAApB,CAAwB,SAAxB;AACA,WAAKnF,GAAL,EAAUkF,SAAV,CAAoBC,GAApB,CAAwB,UAAxB;AACD;;AAED,WAAO,IAAP;AACD,GAVD;;AAYAH,UAAQgB,IAAR,GAAe,UAASA,IAAT,EAAe;AAC5B,QAAIhG,MAAM,KAAKK,MAAf;;AAEA,WAAOL,KAAP,EAAc;AACZ,WAAKA,GAAL,EAAUiG,WAAV,GAAwBD,IAAxB;AACD;;AAED,WAAO,IAAP;AACD,GARD;;AAUAhB,UAAQkB,IAAR,GAAe,UAAS/D,OAAT,EAAkB;AAC/B,QAAInC,MAAM,KAAKK,MAAf;;AAEA,QAAK8B,QAAQgE,OAAR,CAAgB,QAAhB,MAA8B,CAAC,CAApC,EAAwC;AACtChE,gBAAU,yBAAV;AACD;;AAED,WAAOnC,KAAP,EAAc;AACZ,WAAKA,GAAL,EAAUoG,SAAV,GAAsBjE,OAAtB;AACD;;AAED,WAAO,IAAP;AACD,GAZD;;AAcA6C,UAAQK,MAAR,GAAiB,YAAW;AAC1B,QAAIrF,MAAM,KAAKK,MAAf;;AAEA,WAAOL,KAAP,EAAc;AACZ,UAAK,KAAKA,GAAL,EAAUqG,UAAf,EAA4B;AAC1B,aAAKrG,GAAL,EAAUqG,UAAV,CAAqBC,WAArB,CAAiC,KAAKtG,GAAL,CAAjC;AACD;AACF;AACD,WAAO,IAAP;AACD,GATD;;AAWAgF,UAAQuB,QAAR,GAAmB,UAASC,IAAT,EAAe;AAChC,QAAI7F,WAAWC,EAAEC,KAAF,EAAf;AACA,QAAM4F,QAAQ;;AAEZC,gBAAU,oBAAW;AACnB,YAAI9D,OAAO,IAAX;AACA,YAAI+D,YAAYC,WAAW,YAAW;AACpCC,uBAAaF,SAAb;AACA/D,eAAKI,IAAL,CAAUwD,IAAV;AACD,SAHe,EAGb,GAHa,CAAhB;AAID,OARW;;AAUZxD,YAAM,cAASwD,IAAT,EAAe;AACnB,YAAIM,cAAcjC,SAASC,gBAAT,CAA0B0B,IAA1B,CAAlB;;AAEA,YAAK,CAACM,WAAD,IAAgBA,YAAYzG,MAAZ,KAAuB,CAA5C,EAAgD;AAC9C,eAAKqG,QAAL,CAAcF,IAAd;AACA;AACD;AACD7F,iBAASuB,OAAT;AACD;;AAlBW,KAAd;;AAsBAuE,UAAMzD,IAAN,CAAWwD,IAAX;AACA,WAAO7F,SAAS2B,OAAhB;AACD,GA1BD;;AA4BA0C,UAAQ+B,OAAR,GAAkB,UAASC,GAAT,EAAc;AAC9B,QAAIC,SAASD,GAAb;;AAEA,SAAI,IAAIrH,IAAR,IAAgBsH,MAAhB,EAAwB;AACtB,UAAGA,OAAOpH,cAAP,CAAsBF,IAAtB,CAAH,EAA+B;AAC7B,eAAO,KAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD,GAVD;;AAYAqF,UAAQkC,SAAR,GAAoB,UAASC,OAAT,EAAkB;AACpC,QAAIC,QAAQvC,SAASwC,cAAT,CAAwBF,OAAxB,CAAZ;;AAEAC,UAAME,YAAN,CAAmB,MAAnB,EAA0B,MAA1B;AACD,GAJD;;AAMAtC,UAAQuC,UAAR,GAAqB,YAAW;AAC9B,SAAK,CAAL,EAAQD,YAAR,CAAqB,MAArB,EAA4B,QAA5B;AACD,GAFD;;AAIAvC,KAAGyC,EAAH,GAAQ9C,SAAS+C,SAAT,GAAqBzC,OAA7B;;AAEA,MAAK,CAAC0C,OAAO3C,EAAb,EAAkB;AAChB2C,WAAO3C,EAAP,GAAYA,EAAZ;AACD;AAEF,CAnMD,KC7DA;;;;;;AAMA;;AAEA,IAAM4C,QAAS,YAAW;;AAExB,MAAMhF,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEA;;;;AAIA;;;;;;;;;;;;;AAaAA,SAAOiF,SAAP,GAAmB,UAACC,MAAD,EAAW;AAC5B,QAAIC,QAAcjD,SAASC,gBAAT,CAA0B,MAAI+C,MAAJ,GAAa,eAAvC,CAAlB;AACA,QAAIE,WAAc,EAAlB;AACA,QAAIhI,IAAc,CAAlB;AACA,QAAIC,MAAc8H,MAAMzH,MAAxB;AACA,QAAIC,MAAc,EAAlB;AACA,QAAIC,QAAc,EAAlB;AACA;AACA,QAAIyH,cAAc,EAAlB;;AAEA,QAAK,CAAChI,GAAN,EAAY;AACVyD,UAAIwE,OAAJ,CAAY,iEAAZ;AACD;;AAED,WAAOlI,IAAEC,GAAT,EAAcD,GAAd,EAAmB;AACjB,UAAK+H,MAAM/H,CAAN,EAASG,IAAT,CAAcgI,WAAd,OAAgC,OAAhC,IAA2CF,YAAY7B,OAAZ,CAAoB2B,MAAM/H,CAAN,EAASoI,IAA7B,MAAuC,CAAC,CAAxF,EAA4F;AAC1F7H,cAAQwH,MAAM/H,CAAN,EAASqI,YAAT,CAAsB,UAAtB,KAAqCN,MAAM/H,CAAN,EAASoI,IAA9C,IAAsDpI,CAA9D;AACAQ,gBAAQqC,KAAKyF,QAAL,CAAcP,MAAM/H,CAAN,CAAd,CAAR;AACAgI,iBAASzH,GAAT,IAAgBC,KAAhB;AACA,YAAKuH,MAAM/H,CAAN,EAASG,IAAT,CAAcgI,WAAd,OAAgC,OAArC,EAA+C;AAC7CF,sBAAYM,IAAZ,CAAiBR,MAAM/H,CAAN,EAASoI,IAA1B;AACD;AACF;AACF;;AAED,WAAOJ,QAAP;AACD,GA1BD;;AA4BA;;;;;;;AAOApF,SAAO0F,QAAP,GAAkB,UAACE,MAAD,EAAW;AAC3B,QAAI/B,OAAW,OAAO+B,MAAP,KAAkB,QAAlB,GAA6B1D,SAASwC,cAAT,CAAwBmB,MAAxB,CAA7B,GAA+DD,MAA9E;AACA,QAAIhI,QAAW,EAAf;AACA,QAAIL,OAAW,EAAf;;AAEA,QAAK,CAACsG,IAAN,EAAa;AACX/C,UAAIwE,OAAJ,CAAY,mCAAZ;AACD;;AAED/H,WAAOsG,KAAKiC,OAAL,CAAaP,WAAb,OAA+B,OAA/B,GAAyC1B,KAAKiC,OAAL,CAAaP,WAAb,EAAzC,GAAsE1B,KAAKtG,IAAL,CAAUgI,WAAV,EAA7E;AACAhI,WAAOA,SAAS,QAAT,IAAqBsG,KAAKtG,IAAL,KAAc,iBAAnC,GAAuD,iBAAvD,GAA2EA,IAAlF;;AAEA,YAAQA,IAAR;AACE,WAAK,MAAL;AACA,WAAK,UAAL;AACA,WAAK,QAAL;AACEK,gBAAQiG,KAAKjG,KAAL,CAAWmI,IAAX,EAAR;AACA;AACF,WAAK,UAAL;AACEnI,gBAAQiG,KAAKmC,OAAL,GAAenC,KAAKjG,KAApB,GAA4B,KAApC;AACA;AACF,WAAK,OAAL;AACEA,gBAAQsE,SAAS+D,aAAT,CAAuB,mBAAmBpC,KAAK2B,IAAxB,GAA+B,YAAtD,EAAoE5H,KAA5E;AACA;AACF,WAAK,iBAAL;AACEA,gBAAQqC,KAAKiG,qBAAL,CAA2BrC,IAA3B,CAAR;AACA;AACF;AACEjG,gBAAQiG,KAAKjG,KAAb;AAhBJ;;AAmBA,WAAOA,KAAP;AACD,GAhCD;;AAkCA;;;;;;;AAOAoC,SAAOkG,qBAAP,GAA+B,UAACrC,IAAD,EAAS;AACtC,QAAIsC,iBAAiB,EAArB;AACA,QAAI/I,IAAI,CAAR;AACA,QAAIC,MAAMwG,KAAKnG,MAAf;;AAEA,WAAON,IAAIC,GAAX,EAAgBD,GAAhB,EAAqB;AACnB,UAAIyG,KAAKjH,OAAL,CAAaQ,CAAb,EAAgBgJ,QAApB,EAA8B;AAC5BD,uBAAeR,IAAf,CAAoB9B,KAAKjH,OAAL,CAAaQ,CAAb,EAAgBQ,KAApC;AACD;AACF;AACD,WAAOuI,cAAP;AACD,GAXD;;AAaA;;;;AAIAnG,SAAOqG,OAAP,GAAiB,UAACR,MAAD,EAAW;AAC1B5F,SAAKqG,WAAL,CAAiBT,MAAjB,EAAyB,KAAzB;AACD,GAFD;;AAIA7F,SAAOuG,QAAP,GAAkB,UAACV,MAAD,EAAW;AAC3B5F,SAAKqG,WAAL,CAAiBT,MAAjB,EAAyB,IAAzB;AACD,GAFD;;AAIA7F,SAAOsG,WAAP,GAAqB,UAACT,MAAD,EAASW,IAAT,EAAiB;AACpCtE,aAASwC,cAAT,CAAwBmB,MAAxB,EAAgClB,YAAhC,CAA6C,UAA7C,EAAyD6B,IAAzD;AACD,GAFD;;AAIAxG,SAAOyG,QAAP,GAAkB,UAACZ,MAAD,EAAW;AAC3B5F,SAAKyG,YAAL,CAAkBb,MAAlB,EAA0B,UAA1B;AACD,GAFD;;AAIA7F,SAAO2G,WAAP,GAAqB,UAACd,MAAD,EAAW;AAC9B5F,SAAKyG,YAAL,CAAkBb,MAAlB,EAA0B,KAA1B;AACD,GAFD;;AAIA7F,SAAO0G,YAAP,GAAsB,UAACb,MAAD,EAAS1I,GAAT,EAAgB;AACpC+E,aAASwC,cAAT,CAAwBmB,MAAxB,EAAgClB,YAAhC,CAA6C,eAA7C,EAA8DxH,GAA9D;AACD,GAFD;;AAIA;;;;AAIA6C,SAAOhB,OAAP,GAAiB,UAACkG,MAAD,EAAW;AAC1B,QAAIC,QAAcjD,SAASC,gBAAT,CAA0B,MAAI+C,MAAJ,GAAa,eAAvC,CAAlB;AACA,QAAI9H,IAAc,CAAlB;AACA,QAAIC,MAAc8H,MAAMzH,MAAxB;AACA,QAAIsB,UAAc,IAAlB;;AAEA,QAAK,CAAC3B,GAAN,EAAY;AACVyD,UAAIwE,OAAJ,CAAY,iEAAZ;AACD;;AAEDrF,SAAK2G,WAAL,CAAiB1B,MAAjB;;AAEA,WAAO9H,IAAEC,GAAT,EAAcD,GAAd,EAAmB;AACjB,UAAK,CAAC6C,KAAK4G,aAAL,CAAmB1B,MAAM/H,CAAN,CAAnB,CAAD,IAAiC,CAAC6C,KAAK6G,SAAL,CAAe3B,MAAM/H,CAAN,CAAf,CAAlC,IAA8D,CAAC6C,KAAK8G,gBAAL,CAAsB5B,MAAM/H,CAAN,CAAtB,CAApE,EAAsG;AACpG4B,kBAAU,KAAV;AACD;AACF;AACD,WAAOA,OAAP;AACD,GAlBD;;AAoBA;AACAgB,SAAO4G,WAAP,GAAqB,UAAC1B,MAAD,EAAW;AAC9B,QAAIC,QAAQjD,SAASC,gBAAT,CAA0B,MAAI+C,MAAJ,GAAa,eAAvC,CAAZ;AACA,QAAI9H,IAAQ,CAAZ;AACA,QAAIC,MAAQ8H,MAAMzH,MAAlB;;AAEA,WAAON,IAAEC,GAAT,EAAcD,GAAd,EAAmB;AACjB+H,YAAM/H,CAAN,EAASmF,SAAT,CAAmBG,MAAnB,CAA0B,UAA1B;AACD;;AAEDyC,YAAQjD,SAASC,gBAAT,CAA0B,MAAI+C,MAAJ,GAAa,oBAAvC,CAAR;AACA9H,QAAQ,CAAR;AACAC,UAAQ8H,MAAMzH,MAAd;;AAEA,WAAON,IAAEC,GAAT,EAAcD,GAAd,EAAmB;AAClB+H,YAAM/H,CAAN,EAASsG,UAAT,CAAoBC,WAApB,CAAgCwB,MAAM/H,CAAN,CAAhC;AACA;AACF,GAhBD;;AAkBA4C,SAAO6G,aAAP,GAAuB,UAAChD,IAAD,EAAS;AAC9B,QAAI7E,UAAU,IAAd;;AAEA,QAAK6E,KAAK4B,YAAL,CAAkB,eAAlB,MAAuC,UAAvC,IAAqD,CAACxF,KAAKyF,QAAL,CAAc7B,IAAd,CAA3D,EAAiF;AAC/E7E,gBAAU,KAAV;AACAiB,WAAK+G,QAAL,CAAcnD,IAAd,EAAoB,UAApB;AACD;AACD,WAAO7E,OAAP;AACD,GARD;;AAUAgB,SAAO8G,SAAP,GAAmB,UAACjD,IAAD,EAAS;AAC1B,QAAItG,OAAQsG,KAAK4B,YAAL,CAAkB,WAAlB,CAAZ;;AAEA,YAAOlI,IAAP;AACE,WAAK,UAAL;AACE,eAAO0C,KAAKgH,cAAL,CAAoBpD,IAApB,CAAP;AACF,WAAK,UAAL;AACE,eAAO5D,KAAKiH,cAAL,CAAoBrD,IAApB,CAAP;AACF,WAAK,SAAL;AACA,eAAO5D,KAAKkH,aAAL,CAAmBtD,IAAnB,CAAP;AACA;AACE,eAAO,IAAP;AARJ;AAUD,GAbD;;AAeA7D,SAAOkH,cAAP,GAAwB,UAACrD,IAAD,EAAS;AAC/B,QAAI7E,UAAU,IAAd;AACA,QAAIoI,OAAU,QAAd;AACA,QAAIxJ,QAAUqC,KAAKyF,QAAL,CAAc7B,IAAd,CAAd;;AAEA,QAAK,CAACuD,KAAKC,IAAL,CAAUzJ,KAAV,CAAN,EAAyB;AACvBoB,gBAAU,KAAV;AACAiB,WAAK+G,QAAL,CAAcnD,IAAd,EAAoB,WAApB;AACD;AACD,WAAO7E,OAAP;AACD,GAVD;;AAYAgB,SAAOiH,cAAP,GAAwB,UAACpD,IAAD,EAAS;AAC/B,QAAI7E,UAAU,IAAd;AACA,QAAIoI,OAAU,WAAd;AACA,QAAIxJ,QAAUqC,KAAKyF,QAAL,CAAc7B,IAAd,CAAd;;AAEA,QAAK,CAACuD,KAAKC,IAAL,CAAUzJ,KAAV,CAAN,EAAyB;AACvBoB,gBAAU,KAAV;AACAiB,WAAK+G,QAAL,CAAcnD,IAAd,EAAoB,WAApB;AACD;;AAED,QAAKA,KAAK4B,YAAL,CAAkB,WAAlB,KAAkC5B,KAAK4B,YAAL,CAAkB,WAAlB,MAAmC,YAArE,IAAqF7H,UAAU,CAApG,EAAwG;AACtGqC,WAAK+G,QAAL,CAAcnD,IAAd,EAAoB,SAApB;AACA7E,gBAAU,KAAV;AACD;;AAED,QAAK6E,KAAK4B,YAAL,CAAkB,eAAlB,KAAsC5B,KAAK4B,YAAL,CAAkB,eAAlB,MAAuC,YAA7E,IAA6F7H,QAAQ,CAA1G,EAA8G;AAC5GqC,WAAK+G,QAAL,CAAcnD,IAAd,EAAoB,aAApB;AACA7E,gBAAU,KAAV;AACD;;AAED,WAAOA,OAAP;AACD,GArBD;;AAuBAgB,SAAOmH,aAAP,GAAuB,UAACtD,IAAD,EAAS;AAC9B,QAAI7E,UAAU,IAAd;AACA,QAAIoI,OAAU,wCAAd;AACA,QAAIxJ,QAAUqC,KAAKyF,QAAL,CAAc7B,IAAd,CAAd;;AAEA,QAAK,CAACuD,KAAKC,IAAL,CAAUzJ,KAAV,CAAN,EAAyB;AACrBoB,gBAAU,KAAV;AACAiB,WAAK+G,QAAL,CAAcnD,IAAd,EAAoB,UAApB;AACH;;AAED,WAAO7E,OAAP;AACD,GAXD;;AAaAgB,SAAO+G,gBAAP,GAA0B,UAAClD,IAAD,EAAS;AACjC,QAAI7E,UAAU,IAAd;AACA,QAAIoI,OAAUvD,KAAK4B,YAAL,CAAkB,YAAlB,IAAkC,IAAI6B,MAAJ,CAAWzD,KAAK4B,YAAL,CAAkB,YAAlB,CAAX,EAA4C,GAA5C,CAAlC,GAAqF,KAAnG;AACA,QAAI7H,QAAUqC,KAAKyF,QAAL,CAAc7B,IAAd,CAAd;;AAEA,QAAK,CAACuD,IAAN,EAAa;AACX,aAAOpI,OAAP;AACD;;AAED,QAAK,CAACoI,KAAKC,IAAL,CAAUzJ,KAAV,CAAN,EAAyB;AACvBoB,gBAAU,KAAV;AACAiB,WAAK+G,QAAL,CAAcnD,IAAd,EAAoBA,KAAK4B,YAAL,CAAkB,kBAAlB,KAAyC,aAA7D;AACD;;AAED,WAAOzG,OAAP;AACD,GAfD;;AAiBA;AACAgB,SAAOgH,QAAP,GAAkB,UAACnD,IAAD,EAAO0D,SAAP,EAAoB;AACpC,QAAIC,cAAc,EAAlB;;AAEA,YAAQD,SAAR;AACE,WAAK,UAAL;AACEC,sBAAcC,QAAQC,QAAR,GAAmBC,eAAnB,CAAmCC,UAAjD;AACA;AACF;AACEJ,sBAAcC,QAAQC,QAAR,GAAmBC,eAAnB,CAAmCE,WAAjD;AALJ;AAOAhE,SAAKiE,kBAAL,CAAwB,UAAxB,EAAoC7H,KAAK8H,WAAL,CAAiBP,WAAjB,CAApC;AACA3D,SAAKtB,SAAL,CAAeC,GAAf,CAAmB,UAAnB;AACD,GAZD;;AAcAxC,SAAO+H,WAAP,GAAqB,UAACC,GAAD,EAAQ;AAC3B,QAAIC,kGAAgGD,GAAhG,iBAAJ;;AAEA,WAAOC,UAAP;AACD,GAJD;;AAMA,SAAO;AACLhD,eAAoBjF,OAAOiF,SADtB;AAELS,cAAoB1F,OAAO0F,QAFtB;AAGLa,cAAoBvG,OAAOuG,QAHtB;AAILF,aAAoBrG,OAAOqG,OAJtB;AAKLI,cAAoBzG,OAAOyG,QALtB;AAMLE,iBAAoB3G,OAAO2G,WANtB;AAOL3H,aAAoBgB,OAAOhB,OAPtB;AAQL6H,mBAAoB7G,OAAO6G,aARtB;AASLC,eAAoB9G,OAAO8G,SATtB;AAULC,sBAAoB/G,OAAO+G,gBAVtB;AAWLC,cAAoBhH,OAAOgH,QAXtB;AAYLe,iBAAoB/H,OAAO+H;AAZtB,GAAP;AAeD,CApTa,EAAd,ECRA;;AAEA;;;;;AAIA,IAAMN,UAAW,YAAW;;AAE1B,MAAMzH,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAOkI,SAAP,GAAsB,EAAtB;AACAlI,SAAOmI,QAAP,GAAsB,EAAtB;AACAnI,SAAOoI,YAAP,GAAsB,EAAtB;;AAEApI,SAAOqI,YAAP,GAAsB;AACtB,aAAS,MADa;AAErB,eAAW;AAFU,GAAtB;;AAKArI,SAAOsI,YAAP,GAAsB,YAAK;AACzB,WAAOrI,KAAKiI,SAAZ;AACD,GAFD;;AAIAlI,SAAOuI,aAAP,GAAuB,YAAK;AAC1B,QAAI/H,eAAe,IAAI9D,OAAJ,EAAnB;AACA,QAAIsB,WAAeC,EAAEC,KAAF,EAAnB;AACA,QAAIsK,MAAe,2BAAnB;;AAEAhI,iBAAaC,WAAb,CAAyB+H,GAAzB,EAA8B9H,IAA9B,CACE,UAACC,IAAD,EAAS;AACPV,WAAKiI,SAAL,GAAiBvH,KAAK8H,MAAtB;AACAzK,eAASuB,OAAT,CAAiBoB,IAAjB;AACD,KAJH,EAKE,UAACE,KAAD,EAAW;AACTC,UAAID,KAAJ,CAAU,uBAAsBA,KAAhC;AACA7C,eAASoB,MAAT;AACD,KARH;AASA,WAAOpB,SAAS2B,OAAhB;AACD,GAfD;;AAiBAK,SAAO0I,eAAP,GAAyB,UAACC,OAAD,EAAUC,SAAV,EAAuB;AAC9C,QAAK,CAACD,OAAN,EAAe;AACb7H,UAAIwE,OAAJ,CAAY,wCAAZ;AACA;AACD;AACDrF,SAAKoI,YAAL,CAAkBQ,KAAlB,GAA6BF,OAA7B;AACA1I,SAAKoI,YAAL,CAAkBS,OAAlB,GAA8BF,YAAYA,SAAZ,GAAwB,EAAtD;AACD,GAPD;;AASA5I,SAAO+I,eAAP,GAAyB,YAAK;AAC5B,WAAO9I,KAAKoI,YAAZ;AACD,GAFD;;AAIArI,SAAO0H,QAAP,GAAkB,YAAK;AACrB,WAAOzH,KAAKkI,QAAZ;AACD,GAFD;;AAIAnI,SAAOgJ,SAAP,GAAmB,YAAK;AACtB,QAAIxI,eAAe,IAAI9D,OAAJ,EAAnB;AACA,QAAIsB,WAAeC,EAAEC,KAAF,EAAnB;AACA,QAAI+C,OAAelB,OAAO+B,OAAP,EAAnB;AACA,QAAI0G,MAAe,yBAAyBvH,IAAzB,GAAgC,OAAnD;;AAEAT,iBAAaC,WAAb,CAAyB+H,GAAzB,EAA8B9H,IAA9B,CACE,UAACC,IAAD,EAAS;AACPV,WAAKkI,QAAL,GAAgBxH,IAAhB;AACA3C,eAASuB,OAAT,CAAiBoB,IAAjB;AACD,KAJH,EAKE,UAACE,KAAD,EAAW;AACTC,UAAID,KAAJ,CAAU,sBAAqBA,KAA/B;AACA7C,eAASoB,MAAT;AACD,KARH;AASA,WAAOpB,SAAS2B,OAAhB;AACD,GAhBD;;AAkBAK,SAAOiJ,QAAP,GAAkB,YAAK;AACrB,QAAIzI,eAAe,IAAI9D,OAAJ,EAAnB;AACA,QAAIsB,WAAeC,EAAEC,KAAF,EAAnB;AACA,QAAI+C,OAAelB,OAAO+B,OAAP,EAAnB;AACA,QAAI0G,MAAe,yBAAnB;;AAEAhI,iBAAaC,WAAb,CAAyB+H,GAAzB,EAA8B9H,IAA9B,CACE,UAACC,IAAD,EAAS;AACPV,WAAKiJ,WAAL,CAAiBvI,IAAjB;AACA3C,eAASuB,OAAT;AACD,KAJH,EAKE,UAACsB,KAAD,EAAW;AACTC,UAAID,KAAJ,CAAU,6BAA4BA,KAAtC;AACA7C,eAASoB,MAAT;AACD,KARH;AASA,WAAOpB,SAAS2B,OAAhB;AACD,GAhBD;;AAkBAK,SAAOkJ,WAAP,GAAqB,UAACvI,IAAD,EAAS;AAC5B,QAAII,cAAchB,OAAO8B,cAAP,EAAlB;AACA,QAAIsH,SAAcxI,KAAKK,WAAL,CAAiBoI,OAAjB,CAAyBrI,WAAzB,CAAlB;AACA,QAAIsI,SAAc1I,KAAKK,WAAL,CAAiBzD,IAAjB,CAAsBwD,WAAtB,CAAlB;;AAEA,SAAK,IAAI/D,IAAT,IAAiB2D,KAAK2I,SAAtB,EAAiC;AAC/BrJ,WAAKmI,YAAL,CAAkBpL,IAAlB,IAA0BmM,SAASxI,KAAK2I,SAAL,CAAetM,IAAf,CAAT,GAAgCqM,MAA1D;AACD;AAEF,GATD;;AAWArJ,SAAOuJ,OAAP,GAAiB,YAAK;AACpB,WAAOtJ,KAAKmI,YAAZ;AACD,GAFD;;AAIA,SAAO;AACLE,kBAAkBtI,OAAOsI,YADpB;AAELC,mBAAkBvI,OAAOuI,aAFpB;AAGLQ,qBAAkB/I,OAAO+I,eAHpB;AAILL,qBAAkB1I,OAAO0I,eAJpB;AAKLhB,cAAkB1H,OAAO0H,QALpB;AAMLsB,eAAkBhJ,OAAOgJ,SANpB;AAOLC,cAAkBjJ,OAAOiJ,QAPpB;AAQLM,aAAkBvJ,OAAOuJ;AARpB,GAAP;AAWD,CAlHe,EAAhB,ECNA;;;;;AAKA;;AAEA,IAAMC,YAAa,YAAW;;AAE5B,MAAMxJ,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAOyJ,UAAP,GAAoB,UAACC,QAAD,EAAa;AAC/B,WAAOnL,KAAKoL,KAAL,CAAWpL,KAAKC,SAAL,CAAekL,QAAf,CAAX,CAAP;AACD,GAFD;;AAIA1J,SAAO4J,WAAP,GAAqB,UAACC,OAAD,EAAUC,WAAV,EAAyB;AAC5C,QAAI1M,IAAM,CAAV;AACA,QAAIC,MAAM0M,OAAOrM,MAAjB;;AAEA,WAAMN,IAAEC,GAAR,EAAaD,GAAb,EAAkB;AAChB,UAAK0M,gBAAgBD,QAAQzM,CAAR,CAArB,EAAkC;AAChC,eAAOyM,QAAQzM,CAAR,CAAP;AACD;AACF;AACD,WAAO,KAAP;AACD,GAVD;;AAYA4C,SAAOgK,YAAP,GAAsB,UAACH,OAAD,EAAUlM,GAAV,EAAeC,KAAf,EAAwB;AAC5C,QAAIR,IAAM,CAAV;AACA,QAAIC,MAAMwM,QAAQnM,MAAlB;;AAEA,WAAMN,IAAEC,GAAR,EAAaD,GAAb,EAAkB;AAChB,WAAK,IAAIJ,IAAT,IAAiB6M,QAAQzM,CAAR,CAAjB,EAA8B;AAC5B,YAAKJ,SAASW,GAAT,IAAgBkM,QAAQzM,CAAR,EAAWJ,IAAX,MAAqBY,KAA1C,EAAkD;AAChD,iBAAOiM,QAAQzM,CAAR,CAAP;AACD;AACF;AACF;AACD,WAAO,KAAP;AACD,GAZD;;AAeA,SAAO;AACLqM,gBAAgBzJ,OAAOyJ,UADlB;AAELG,iBAAgB5J,OAAO4J,WAFlB;AAGLI,kBAAgBhK,OAAOgK;AAHlB,GAAP;AAMD,CA1CiB,EAAlB,ECPA;;AAEA;;;;;;AAKA,IAAMC,YAAa,YAAW;;AAE5B,MAAMjK,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAOK,IAAP,GAAc,YAAK;AACjBJ,SAAKiK,YAAL;AACD,GAFD;;AAIAlK,SAAOkK,YAAP,GAAsB,YAAK;AACzBnF,WAAOoF,OAAP,GAAiB,UAASC,OAAT,EAAkBC,MAAlB,EAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC1J,KAAzC,EAAgD;AAC/D,UAAImH,kBACQoC,OADR,wBAEMC,MAFN,wBAGMC,MAHN,uBAIKC,KAJL,yBAKO1J,KALX;AAMEC,UAAID,KAAJ,CAAUmH,GAAV;AACH,KARD;AASD,GAVD;;AAYA,SAAO;AACL3H,UAAML,OAAOK;AADR,GAAP;AAID,CAzBiB,EAAlB,ECPA;;;;;;;;AAQA;;AAEA,IAAMS,MAAO,YAAW;;AAEtB,MAAMd,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEA,MAAMe,cAAchB,OAAO8B,cAAP,EAApB;;AAEA;;;;;;AAMA7B,SAAOwK,OAAP,GAAiB,UAACxC,GAAD,EAAQ;AACvB,QAAKA,OAAOjH,gBAAgB,YAA5B,EAA2C;AACzC0J,cAAQ3J,GAAR,CAAY,OAAMkH,GAAlB,EAAuB,gBAAvB;AACD;AACF,GAJD;;AAMA;;;;;;AAMAhI,SAAOc,GAAP,GAAa,UAACkH,GAAD,EAAQ;AACnB,QAAKA,OAAOjH,gBAAgB,YAA5B,EAA2C;AACzC0J,cAAQ3J,GAAR,CAAY,OAAMkH,GAAlB,EAAuB,gBAAvB;AACD;AACF,GAJD;;AAMA;;;;;;AAMAhI,SAAOsF,OAAP,GAAiB,UAAC0C,GAAD,EAAQ;AACvB,QAAKA,OAAOjH,gBAAgB,YAA5B,EAA2C;AACzC0J,cAAQ3J,GAAR,CAAY,OAAMkH,GAAlB,EAAuB,gBAAvB;AACD;AACF,GAJD;;AAMA;;;;;;AAMAhI,SAAOa,KAAP,GAAe,UAACmH,GAAD,EAAQ;AACrB,QAAKA,OAAOjH,gBAAgB,YAA5B,EAA2C;AACzC0J,cAAQ3J,GAAR,CAAY,OAAMkH,GAAlB,EAAuB,gBAAvB;AACD;AACF,GAJD;;AAMA;;;;;;AAMAhI,SAAO0K,KAAP,GAAe,UAAC1C,GAAD,EAAQ;AACrB,QAAKA,OAAOjH,gBAAgB,YAA5B,EAA2C;AACzC0J,cAAQC,KAAR,CAAc1C,GAAd;AACD;AACF,GAJD;;AAMA,SAAO;AACLwC,aAAUxK,OAAOwK,OADZ;AAEL1J,SAAUd,OAAOc,GAFZ;AAGLwE,aAAUtF,OAAOsF,OAHZ;AAILzE,WAAUb,OAAOa,KAJZ;AAKL6J,WAAU1K,OAAO0K;AALZ,GAAP;AAQD,CA3EW,EAAZ,ECVA;;AAEA;;;;;AAIA,IAAM1C,MAAO,YAAW;;AAEtB,MAAMhI,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAO2K,UAAP,GAAoB,EAApB;;AAEA3K,SAAO4K,SAAP,GAAmB,UAACC,MAAD,EAASC,IAAT,EAAiB;AAClC7K,SAAK8K,QAAL,CAAc,OAAd,EAAuBF,MAAvB,EAA+BC,IAA/B;AACD,GAFD;;AAIA9K,SAAOgL,WAAP,GAAqB,UAACH,MAAD,EAASC,IAAT,EAAiB;AACpC7K,SAAK8K,QAAL,CAAc,SAAd,EAAyBF,MAAzB,EAAiCC,IAAjC;AACD,GAFD;;AAIA9K,SAAOiL,WAAP,GAAqB,UAACJ,MAAD,EAASC,IAAT,EAAiB;AACpC7K,SAAK8K,QAAL,CAAc,SAAd,EAAyBF,MAAzB,EAAiCC,IAAjC;AACD,GAFD;;AAIA9K,SAAOd,eAAP,GAAyB,UAAC2B,KAAD,EAAU;AACjCZ,SAAK8K,QAAL,CAAcG,OAAd,CAAsB,OAAtB,EAA+B,cAA/B,EAA+CrK,KAA/C;AACA;AACD,GAHD;;AAKAb,SAAOkL,OAAP,GAAiB,UAAC3N,IAAD,EAAOsN,MAAP,EAAeC,IAAf,EAAuB;AACtC,QAAIK,aAAcjJ,SAASwC,cAAT,CAAwB,WAAxB,CAAlB;AACA,QAAI0G,YAAcP,UAAU,EAA5B;AACA,QAAIQ,UAAcP,QAAQ,EAA1B;;AAEA,QAAK7K,KAAK0K,UAAV,EAAuB;AACrBQ,iBAAW5I,SAAX,CAAqBG,MAArB,CAA4BzC,KAAK0K,UAAjC;AACD;AACD1K,SAAK0K,UAAL,GAAkBpN,IAAlB;AACA4N,eAAW5I,SAAX,CAAqBC,GAArB,CAAyBjF,IAAzB;;AAEA2E,aAASwC,cAAT,CAAwB,kBAAxB,EAA4CpB,WAA5C,GAA0D8H,SAA1D;AACAlJ,aAASwC,cAAT,CAAwB,gBAAxB,EAA0CpB,WAA1C,GAAwD+H,OAAxD;;AAEAF,eAAW5I,SAAX,CAAqBC,GAArB,CAAyB,gBAAzB;AACA2I,eAAW5I,SAAX,CAAqBG,MAArB,CAA4B,YAA5B;AACAyI,eAAW5I,SAAX,CAAqBC,GAArB,CAAyB,eAAzB;AACD,GAjBD;;AAmBA,SAAO;AACLoI,eAAoB5K,OAAO4K,SADtB;AAELI,iBAAoBhL,OAAOgL,WAFtB;AAGLC,iBAAoBjL,OAAOiL,WAHtB;AAIL/L,qBAAoBc,OAAOd;AAJtB,GAAP;AAOD,CAlDW,EAAZ;;;;ACNA,IAAMpC,YAAa,YAAW;AAAA;;AAE5B,MAAMkD,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAO/C,cAAP,GAAwB;AACtB,YAAQ,kBADc;AAEtB,eAAW,EAFW;AAGtB,eAAW,OAHW;AAItB,mBAAe,IAJO;AAKtB,wBAAoB;AALE,GAAxB;;AAQA+C,SAAOsL,KAAP,GAAe;AACb,eAAW,SADE;AAEb,gBAAY,SAFC;AAGb,eAAW,SAHE;AAIb,mBAAe,SAJF;AAKb,uBAAmB,KALN;AAMb,0BAAsB,SANT;AAOb,gCAA4B;AAPf,GAAf;;AAUAtL,SAAOjB,eAAP,GAAyB,UAACF,CAAD,EAAI1B,GAAJ,EAASP,OAAT,EAAoB;AAC3C,QAAI2O,aAAoB,EAAxB;AACA,QAAIC,WAAoB5O,QAAQW,IAAR,KAAiB,kBAAjB,GAAsC0C,KAAKwL,aAAL,CAAmB5M,CAAnB,CAAtC,GAA8D1B,IAAIuO,YAA1F;AACA,QAAIC,oBAAoB,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,CAAxB;AACA,QAAIC,oBAAqB,IAAzB;;AAEAL,eAAWvM,OAAX,GAA8B,IAA9B,EACAuM,WAAW/L,OAAX,GAA8BgM,QAD9B;AAEAD,eAAWpM,gBAAX,GAA8B,EAA9B;;AAEA,QAAKyM,kBAAkBvE,IAAlB,CAAuBlK,IAAI0O,MAA3B,KAAsCF,kBAAkBnI,OAAlB,CAA0BrG,IAAI0O,MAA9B,MAA0C,CAAC,CAAtF,EAA0F;AACxFN,iBAAWvM,OAAX,GAA8B,KAA9B;AACAuM,iBAAWpM,gBAAX,GAA8BhC,IAAI0O,MAAJ,CAAWC,UAAX,GAAwB3O,IAAI0O,MAAJ,CAAWC,UAAnC,GAAgD,cAA9E;AACA,aAAOP,UAAP;AACD;;AAED,QAAK,CAAC3O,OAAN,EAAgB;AACd,aAAO2O,UAAP;AACD;;AAED,QAAK3O,QAAQW,IAAR,KAAiB,kBAAjB,IAAuC,CAACiO,QAA7C,EAAwD;AACtDD,iBAAWvM,OAAX,GAA8B,KAA9B;AACAuM,iBAAWpM,gBAAX,GAA8B,+BAA9B;AACA,aAAOoM,UAAP;AACD;;AAED,QAAKC,SAAStO,cAAT,CAAwB,QAAxB,KAAqCsO,SAASO,MAAT,CAAgBC,IAAhB,KAAyB/L,KAAKqL,KAAL,CAAWW,WAA9E,EAA4F;AAC1FV,iBAAWvM,OAAX,GAA8B,KAA9B;AACAuM,iBAAWpM,gBAAX,GAA8BqM,SAASO,MAAT,CAAgB3B,OAAhB,GAA0BoB,SAASO,MAAT,CAAgB3B,OAA1C,GAAoD,cAAlF;AACA,aAAOmB,UAAP;AACD;;AAED,WAAOA,UAAP;AACD,GAjCD;;AAmCAvL,SAAOyL,aAAP,GAAuB,UAAC5M,CAAD,EAAM;AAC3B,QAAI8B,OAAO,EAAX;;AAEA,QAAI;AACDA,aAAOpC,KAAKoL,KAAL,CAAW9K,EAAEqN,MAAF,CAASR,YAApB,CAAP;AACF,KAFD,CAEE,OAAM7K,KAAN,EAAa;AACbF,aAAO,IAAP;AACAG,UAAID,KAAJ,CAAU,oBAAV,EAAgChC,CAAhC;AACD;AACD,WAAO8B,IAAP;AACD,GAVD;;AAYAX,SAAOmM,SAAP,GAAmB,UAACJ,MAAD,EAAW;AAC5B,QAAKA,OAAOC,IAAP,KAAgB,MAAKV,KAAL,CAAWd,OAAhC,EAA0C;AACxC,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD,GALD;;AAOAxK,SAAOoM,iBAAP,GAA2B,UAACL,MAAD,EAAW;AACpC,QAAKA,OAAOC,IAAP,KAAgB,MAAKV,KAAL,CAAWe,kBAAhC,EAAqD;AACnD,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD,GALD;;AAOA;AACArM,SAAOsM,UAAP,GAAoB,YAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACG,GAlBD;;AAoBAtM,SAAOjD,iBAAP,GAA2B,YAAK;AAC9B,WAAOwB,KAAKoL,KAAL,CAAWpL,KAAKC,SAAL,CAAeyB,KAAKhD,cAApB,CAAX,CAAP;AACD,GAFD;;AAIA+C,SAAOqB,iBAAP,GAA2B,UAACkL,UAAD,EAAe;AACxC,QAAI5O,YAAJ;;AAEA,QAAK,QAAO4O,UAAP,yCAAOA,UAAP,OAAsB,QAA3B,EAAsC;AACpCzL,UAAID,KAAJ,CAAU,+BAAV;AACA,aAAO,KAAP;AACD;AACD,SAAMlD,GAAN,IAAa4O,UAAb,EAA0B;AACxBtM,WAAKhD,cAAL,CAAoBU,GAApB,GAA0B4O,WAAW5O,GAAX,CAA1B;AACD;AACD,WAAO,IAAP;AACD,GAXD;;AAaAqC,SAAO3B,kBAAP,GAA4B,UAACD,WAAD,EAAgB;AAC1C,QAAIoO,QAAUpO,eAAe,EAA7B;AACA,QAAIqO,SAAU,GAAd;AACA,QAAIzP,aAAJ;;AAEA,SAAKA,IAAL,IAAawP,KAAb,EAAoB;AAClB,UAAI,GAAGtP,cAAH,CAAkBwP,IAAlB,CAAuBF,KAAvB,EAA8BxP,IAA9B,CAAJ,EAAyC;AACvCyP,kBAAUzP,OAAO,GAAP,GAAawP,MAAMxP,IAAN,CAAb,GAA2B,GAArC;AACD;AACF;AACDyP,aAASA,OAAO/O,MAAP,GAAgB+O,OAAOE,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAAhB,GAAsCF,MAA/C;;AAEA,WAAOA,MAAP;AACD,GAbD;;AAeAzM,SAAO4M,eAAP,GAAyB,YAAK;AAC5B,WAAO3M,KAAKqL,KAAZ;AACD,GAFD;;AAIAtL,SAAOsB,eAAP,GAAyB,UAACC,YAAD,EAAiB;AACxCtB,SAAKqL,KAAL,GAAa/J,YAAb;AACD,GAFD;;AAIA;AACAvB,SAAOP,aAAP,GAAuB,YAAW;AAChC,QAAIoE,OAAO3B,SAASwC,cAAT,CAAwB,gBAAxB,CAAX;;AAEA,QAAKb,IAAL,EAAY;AACVA,WAAKc,YAAL,CAAkB,MAAlB,EAA0B,MAA1B;AACD;AACF,GAND;;AAQA;AACA3E,SAAOV,aAAP,GAAuB,YAAW;AAChC,QAAIuE,OAAO3B,SAASwC,cAAT,CAAwB,gBAAxB,CAAX;;AAEA,QAAKb,IAAL,EAAY;AACVA,WAAKc,YAAL,CAAkB,MAAlB,EAA0B,QAA1B;AACD;AACF,GAND;;AAQA3E,SAAOd,eAAP,GAAyB,UAAS2N,QAAT,EAAmB;AAC1C7E,QAAI9I,eAAJ,CAAoB2N,QAApB;AACD,GAFD;;AAIA,SAAO;AACL9P,uBAAoBiD,OAAOjD,iBADtB;AAELsE,uBAAoBrB,OAAOqB,iBAFtB;AAGLuL,qBAAoB5M,OAAO4M,eAHtB;AAILtL,qBAAoBtB,OAAOsB,eAJtB;AAKLjD,wBAAoB2B,OAAO3B,kBALtB;AAMLU,qBAAoBiB,OAAOjB,eANtB;AAOLU,mBAAoBO,OAAOP,aAPtB;AAQLH,mBAAoBU,OAAOV,aARtB;AASLJ,qBAAoBc,OAAOd;AATtB,GAAP;AAYD,CAnLiB,EAAlB,ECAA;;AAEA;;;;;AAIA,IAAM4N,SAAU,YAAW;AAAA;;;AAEzB,MAAM9M,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAO+M,aAAP,GAAuB,EAAvB;;AAEA;;;;;;;AAOA/M,SAAOK,IAAP,GAAc,YAAK;AACjB,QAAK,CAACJ,KAAK+M,gBAAL,EAAN,EAAgC;AAC9BhF,UAAI4C,SAAJ,CAAc,oBAAd,EAAoC,2BAApC;AACA;AACD;AACD3K,SAAKiK,YAAL;AACD,GAND;;AAQA;;;;;;;;AAQAlK,SAAOgN,gBAAP,GAA0B,YAAK;AAC7B,QAAI,aAAajI,MAAb,IAAuB,eAAekI,OAA1C,EAAmD;AACjD,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD,GALD;;AAOA;;;;;;;AAOAjN,SAAOkK,YAAP,GAAsB,YAAK;AACzBnF,WAAOmI,gBAAP,CAAwB,YAAxB,EAAsC,YAAK;AACzCjN,WAAKkN,QAAL;AACD,KAFD;AAGD,GAJD;;AAMA;;;;;;;;AAQF;;AAEEnN,SAAOmN,QAAP,GAAkB,YAAK;AACrB,QAAIC,cAAcnN,KAAK8M,aAAL,CAAmB/K,MAAnB,GAA4B/B,KAAK8M,aAAL,CAAmB/K,MAAnB,CAA0BqL,KAA1B,CAAgC,GAAhC,CAA5B,GAAmE,IAArF;AACA,QAAIN,sBAAJ;;AAEA;AACA,QAAK,CAAC9M,KAAK8M,aAAL,CAAmBO,OAAzB,EAAmC;AACjCP,sBAAgB9M,KAAKsN,cAAL,EAAhB;AACA;AACA,UAAK,CAACR,aAAN,EAAsB;AACpB;AACD,OAFD,MAEO;AACL9M,aAAK8M,aAAL,CAAmBlE,KAAnB,GAA8BkE,cAAclE,KAA5C;AACA5I,aAAK8M,aAAL,CAAmBjE,OAAnB,GAA8BiE,cAAcjE,OAA5C;AACA7I,aAAK8M,aAAL,CAAmBS,KAAnB,GAA8BT,cAAcS,KAA5C;AACAvN,aAAK8M,aAAL,CAAmBU,GAAnB,GAA8BV,cAAcU,GAA5C;AACD;AACF;;AAEDhG,YAAQiB,eAAR,CAAwBzI,KAAK8M,aAAL,CAAmBlE,KAA3C,EAAkD5I,KAAK8M,aAAL,CAAmBjE,OAArE;;AAEA4E,UAAMC,QAAN,CAAe1N,KAAK8M,aAAL,CAAmBlE,KAAlC,EAAyCnI,IAAzC,CAA+C,YAAK;AAClD;AACAT,WAAK2N,eAAL,CAAqB3N,KAAK8M,aAAL,CAAmBS,KAAxC,EAA+CzI,MAA/C,EAAuDqI,WAAvD;AACAH,cAAQY,YAAR,CAAqB5N,KAAK8M,aAA1B,EAAyC9M,KAAK8M,aAAL,CAAmBlE,KAA5D,EAAmE,MAAI5I,KAAK8M,aAAL,CAAmBU,GAA1F;AACAxN,WAAK6N,kBAAL;AACD,KALD;AAMD,GA1BD;;AA4BA9N,SAAOsN,OAAP,GAAiB,UAACzE,KAAD,EAAQ7G,MAAR,EAAkB;AACjC,QAAI+L,cAAchJ,OAAOiJ,QAAP,CAAgBC,IAAlC;;AAEAhO,SAAK8M,aAAL,GAAqBxO,KAAKoL,KAAL,CAAYpL,KAAKC,SAAL,CAAeyB,KAAKiO,gBAAL,CAAsBrF,KAAtB,CAAf,CAAZ,CAArB;;AAEA;AACA5I,SAAK8M,aAAL,CAAmB/K,MAAnB,GAA4BA,MAA5B;;AAEA;;AAEC/B,SAAK8M,aAAL,CAAmBO,OAAnB,GAA6B,IAA7B;;AAED;;AAEA,QAAKS,eAAeA,YAAYI,OAAZ,CAAoB,GAApB,EAAyB,EAAzB,MAAiClO,KAAK8M,aAAL,CAAmBU,GAAxE,EAA8E;AAC5ExN,WAAKkN,QAAL;AACD,KAFD,MAEO;AACLpI,aAAOiJ,QAAP,CAAgBC,IAAhB,GAAuBhO,KAAK8M,aAAL,CAAmBU,GAA1C;AACD;AACF,GAnBD;;AAqBAzN,SAAO8N,kBAAP,GAA4B,YAAI;AAC9B7N,SAAK8M,aAAL,GAAqB;AACnB,eAAS,EADU;AAEnB,aAAO,EAFY;AAGnB,eAAS,EAHU;AAInB,qBAAe,EAJI;AAKnB,mBAAa,EALM;AAMnB,gBAAU,EANS;AAOnB,iBAAW;AAPQ,KAArB;AASD,GAVD;;AAYA/M,SAAOoO,cAAP,GAAwB,YAAK;AAC3B,QAAI5B,QAAazH,OAAOiJ,QAAP,CAAgBK,MAAhB,CAAuBC,SAAvB,CAAiC,CAAjC,CAAjB;AACA,QAAKtM,SAAY,EAAjB;AACA,QAAKuM,OAAY,EAAjB;AACA,QAAIC,WAAa,EAAjB;AACA,QAAKpR,IAAY,CAAjB;AACA,QAAKC,YAAL;;AAEA,QAAKmP,UAAU,EAAf,EAAoB;AAClB,aAAO,KAAP;AACD;AACD,QAAKA,MAAMhJ,OAAN,CAAc,GAAd,MAAuB,CAAC,CAA7B,EAAiC;AAC/B+K,aAAO/B,MAAMa,KAAN,CAAY,GAAZ,CAAP;AAED,KAHD,MAGO;AACLkB,WAAK5I,IAAL,CAAU6G,KAAV;AACD;AACDnP,UAAMkR,KAAK7Q,MAAX;AACA,WAAON,IAAEC,GAAT,EAAcD,GAAd,EAAoB;AAClBoR,iBAAWD,KAAKnR,CAAL,EAAQiQ,KAAR,CAAc,GAAd,CAAX;AACArL,aAAOwM,SAAS,CAAT,CAAP,IAAsBA,SAAS,CAAT,CAAtB;AACD;AACD,WAAOxM,MAAP;AACD,GAvBD;;AAyBAhC,SAAOyO,gBAAP,GAA0B,YAAK;AAC7B,QAAIhB,MAAM1I,OAAOiJ,QAAP,CAAgBU,IAA1B;;AAEAjB,UAAMA,IAAIJ,KAAJ,CAAU,GAAV,EAAesB,KAAf,EAAN;AACA5J,WAAOkI,OAAP,CAAe2B,SAAf,CAAyB,EAAzB,EAA4B,EAA5B,EAAgCnB,GAAhC;AACD,GALD;;AAOAzN,SAAO4N,eAAP,GAAyB,UAACiB,YAAD,EAAeC,SAAf,EAA4B;AACnD,QAAIC,UAAcD,aAAa/J,MAA/B;AACA,QAAIiK,OAAcC,MAAMnK,SAAN,CAAgB6H,KAAhB,CAAsBD,IAAtB,aAAsC,CAAtC,CAAlB;AACA,QAAIwC,aAAcL,aAAaxB,KAAb,CAAmB,GAAnB,CAAlB;AACA,QAAI8B,OAAcD,WAAWE,GAAX,EAAlB;AACA,QAAIhS,IAAc,CAAlB;AACA,QAAIC,MAAc6R,WAAWxR,MAA7B;;AAGA,WAAON,IAAIC,GAAX,EAAgBD,GAAhB,EAAqB;AACnB2R,gBAAUA,QAAQG,WAAW9R,CAAX,CAAR,CAAV;AACD;AACD,WAAO2R,QAAQI,IAAR,EAAcE,KAAd,CAAoBN,OAApB,EAA6BC,IAA7B,CAAP;AACD,GAbD;;AAeAhP,SAAOuN,cAAP,GAAwB,YAAK;AAC3B,QAAI9E,SAAgBhB,QAAQa,YAAR,EAApB;AACA,QAAIjL,MAAgBoL,OAAO/K,MAA3B;AACA,QAAIN,IAAgB,CAApB;AACA,QAAI2P,gBAAgB,KAApB;AACA,QAAIkB,OAAgBD,SAASC,IAAT,CAAcE,OAAd,CAAsB,GAAtB,EAA2B,EAA3B,CAApB;;AAEA,WAAO/Q,IAAEC,GAAT,EAAcD,GAAd,EAAmB;AACjB,UAAKqL,OAAOrL,CAAP,EAAUqQ,GAAV,KAAkBQ,IAAvB,EAA8B;AAC5BlB,wBAAgBtE,OAAOrL,CAAP,CAAhB;AACA;AACD;AACF;;AAED,WAAO2P,aAAP;AACD,GAfD;;AAiBA/M,SAAOkO,gBAAP,GAA0B,UAACrF,KAAD,EAAU;AAClC,QAAIJ,SAAgBhB,QAAQa,YAAR,EAApB;AACA,QAAIjL,MAAgBoL,OAAO/K,MAA3B;AACA,QAAIN,IAAgB,CAApB;AACA,QAAI2P,gBAAgB,KAApB;;AAEA,WAAO3P,IAAEC,GAAT,EAAcD,GAAd,EAAmB;AACjB,UAAKqL,OAAOrL,CAAP,EAAUyL,KAAV,KAAoBA,KAAzB,EAAiC;AAC/BkE,wBAAgBtE,OAAOrL,CAAP,CAAhB;AACA;AACD;AACF;;AAED,WAAO2P,aAAP;AACD,GAdD;;AAgBA/M,SAAOsP,cAAP,GAAwB,UAACzG,KAAD,EAAU;AAChC,QAAK5I,KAAKiO,gBAAL,EAAL,EAA+B;AAC7B,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD,GALD;;AAQA,SAAO;AACL7N,UAAoBL,OAAOK,IADtB;AAELiN,aAAoBtN,OAAOsN,OAFtB;AAGLc,oBAAoBpO,OAAOoO,cAHtB;AAILK,sBAAoBzO,OAAOyO,gBAJtB;AAKLP,sBAAoBlO,OAAOkO,gBALtB;AAMLoB,oBAAoBtP,OAAOsP;AANtB,GAAP;AASD,CA1Nc,EAAf,ECNA;;;;;AAKA;;AAEA,IAAMC,QAAS,YAAW;;AAExB,MAAMvP,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEA;;;;;;;AAOAA,SAAOwP,QAAP,GAAkB,YAAK;AACrB,QAAIC,YAAYC,UAAUC,SAAV,CAAoBC,KAApB,CAA0B,UAA1B,MAA0C,IAA1D;AACA,QAAIC,QAAYH,UAAUC,SAAV,CAAoBC,KAApB,CAA0B,yBAA1B,MAAyD,IAAzE;AACA,QAAIE,YAAYJ,UAAUC,SAAV,CAAoBC,KAApB,CAA0B,UAA1B,MAA0C,IAA1D;AACA,QAAIG,WAAYF,SAASJ,SAAzB;;AAEA,QAAIO,eAAe;AACjB,mBAAaP,SADI;AAEjB,eAASI,KAFQ;AAGjB,kBAAYE,QAHK;AAIjB,mBAAaD;AAJI,KAAnB;AAMA,WAAOE,YAAP;AACD,GAbD;;AAeA,SAAO;AACLR,cAAUxP,OAAOwP;AADZ,GAAP;AAID,CA/Ba,EAAd,ECPA;;AAEA;;;;;AAKA,IAAMS,aAAc,YAAW;;AAE7B,MAAMjQ,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAOkQ,cAAP,GAAwB,UAASC,MAAT,EAAiBC,QAAjB,EAA2BC,WAA3B,EAAwC;AAC9D,QAAIhG,SAAoBnI,SAASwC,cAAT,CAAwB0L,QAAxB,EAAkC3M,SAA1D;AACA,QAAI6M,WAAoBC,WAAWC,OAAX,CAAmBnG,MAAnB,CAAxB;AACA,QAAIoG,mBAAoBH,SAASH,MAAT,CAAxB;AACA,QAAIO,YAAoBL,eAAe,kBAAvC;;AAEAnO,aAASwC,cAAT,CAAwBgM,SAAxB,EAAmCjN,SAAnC,GAA+CgN,gBAA/C;AACD,GAPD;;AASA,SAAO;AACLP,oBAAgBlQ,OAAOkQ;AADlB,GAAP;AAID,CAlBkB,EAAnB,ECPA;;AAEA;;;;;AAIA,IAAMxC,QAAS,YAAW;;AAExB,MAAM1N,SAAY,EAAlB;AACA,MAAMC,OAAYD,MAAlB;;AAEAA,SAAO2Q,WAAP,GAAwB,EAAxB;AACA3Q,SAAO4Q,UAAP,GAAwB,EAAxB;AACA5Q,SAAO+M,aAAP,GAAwB,EAAxB;;AAEA/M,SAAO2N,QAAP,GAAkB,UAAC9E,KAAD,EAAU;AAC1B,QAAI7K,WAAoBC,EAAEC,KAAF,EAAxB;AACA,QAAIb,MAAoB,CAAxB;AACA,QAAI0P,gBAAoB,EAAxB;AACA,QAAI8D,mBAAoB3O,SAASwC,cAAT,CAAwB,yBAAxB,CAAxB;AACA,QAAIoM,gBAAoB5O,SAASwC,cAAT,CAAwB,2BAAxB,CAAxB;AACA,QAAIqM,eAAoB,EAAxB;AACA,QAAIC,cAAoB,EAAxB;;AAEA/Q,SAAK0Q,WAAL,GAAsB,EAAtB;AACA1Q,SAAK2Q,UAAL,GAAsB,EAAtB;AACA3Q,SAAK8M,aAAL,GAAsB,EAAtB;;AAEA,QAAK,CAAC8D,gBAAD,IAAqB,CAACC,aAA3B,EAA2C;AACzChQ,UAAID,KAAJ,CAAU,mCAAV;AACD;;AAED;AACA,WAAOgQ,iBAAiBI,UAAxB,EAAoC;AAClCD,oBAAcH,iBAAiBI,UAAjB,CAA4BxL,YAA5B,CAAyC,WAAzC,CAAd;AACA,UAAKV,OAAO7H,cAAP,CAAsB8T,WAAtB,CAAL,EAA0C;AACxC,eAAOjM,OAAOiM,WAAP,CAAP;AACD;AACDH,uBAAiBlN,WAAjB,CAA6BkN,iBAAiBI,UAA9C;AACD;AACD,WAAOH,cAAcG,UAArB,EAAiC;AAC/BH,oBAAcnN,WAAd,CAA0BmN,cAAcG,UAAxC;AACD;AACDhR,SAAK8M,aAAL,GAAqBD,OAAOoB,gBAAP,CAAwBrF,KAAxB,CAArB;;AAEAxL,UAAM4C,KAAK8M,aAAL,CAAmBmE,WAAnB,CAA+BxT,MAArC;AACA,WAAML,KAAN,EAAa;AACX4C,WAAKkR,eAAL,CAAqBtI,KAArB,EAA4B5I,KAAK8M,aAAL,CAAmBmE,WAAnB,CAA+B7T,GAA/B,CAA5B;AACD;;AAEDA,UAAM4C,KAAK8M,aAAL,CAAmBqE,SAAnB,CAA6B1T,MAAnC;AACA,WAAML,KAAN,EAAa;AACX0T,mBAAapL,IAAb,CAAkB1F,KAAKoR,aAAL,CAAmBxI,KAAnB,EAA0B5I,KAAK8M,aAAL,CAAmBqE,SAAnB,CAA6B/T,GAA7B,CAA1B,CAAlB;AACD;;AAEDY,MAAEqT,GAAF,CAAMP,YAAN,EAAoBrQ,IAApB,CAA0B,UAAC6Q,OAAD,EAAY;AACpCtR,WAAKuR,aAAL,GAAqB9Q,IAArB,CAA2B,YAAK;AAC9B,YAAI+Q,UAAUxN,WAAW,YAAW;AAClCjG,mBAASuB,OAAT;AACA2E,uBAAauN,OAAb;AACD,SAHa,EAGX,EAHW,CAAd;AAID,OALD;AAMD,KAPD,EAOG,UAAC5Q,KAAD,EAAU;AACXC,UAAID,KAAJ,CAAU,gCAA8BgI,KAAxC;AACA7K,eAASoB,MAAT;AACD,KAVD;;AAYA,WAAOpB,SAAS2B,OAAhB;AACD,GArDD;;AAuDAK,SAAO0R,iBAAP,GAA4B,UAACC,UAAD,EAAe;AACzC,QAAIC,WAAWD,WAAWtE,KAAX,CAAiB,GAAjB,CAAf;AACA,QAAI7H,OAAOoM,SAASjD,KAAT,EAAX;AACA,QAAIvR,IAAI,CAAR;AACA,QAAIC,MAAMuU,SAASlU,MAAnB;;AAEA,WAAON,IAAEC,GAAT,EAAcD,GAAd,EAAmB;AACjBoI,cAAQoM,SAASxU,CAAT,EAAYyU,MAAZ,CAAmB,CAAnB,EAAsBC,WAAtB,KAAsCF,SAASxU,CAAT,EAAYuP,KAAZ,CAAkB,CAAlB,CAA9C;AACD;AACD,WAAOnH,IAAP;AACD,GAVD;;AAYAxF,SAAOmR,eAAP,GAAyB,UAACtI,KAAD,EAAQ8I,UAAR,EAAsB;AAC7C,QAAII,aAAkB7P,SAAS8P,aAAT,CAAuB,QAAvB,CAAtB;AACA,QAAIC,iBAAkBhS,KAAKyR,iBAAL,CAAuBC,UAAvB,CAAtB;;AAEAI,eAAWxU,IAAX,GAAoB,kBAApB;AACAwU,eAAWG,GAAX,GAAoB,yBAA0BrJ,KAA1B,GAAkC,GAAlC,GAAwC8I,UAAxC,GAAqD,KAAzE;AACAI,eAAWI,EAAX,GAAoB,QAAQR,UAA5B;AACAI,eAAWK,MAAX,GAAoBnS,KAAKoS,aAAL,CAAmBV,UAAnB,CAApB;AACAzP,aAASwC,cAAT,CAAwB,yBAAxB,EAAmD4N,WAAnD,CAA+DP,UAA/D;AACAA,eAAWpN,YAAX,CAAwB,WAAxB,EAAqCsN,cAArC;AACD,GAVD;;AAYAjS,SAAOqR,aAAP,GAAuB,UAACxI,KAAD,EAAQyH,QAAR,EAAoB;AACzC,QAAInT,MAAM,IAAIgB,cAAJ,EAAV;AACA,QAAIoU,eAAe,yBAA0B1J,KAA1B,GAAkC,GAAlC,GAAwCyH,QAAxC,GAAmD,OAAtE;;AAEAnT,QAAIuB,IAAJ,CAAS,KAAT,EAAgB6T,YAAhB,EAA8B,IAA9B;;AAEApV,QAAIyB,kBAAJ,GAAyB,YAAW;AAClC,UAAI4T,uBAAJ;AACA,UAAIrV,IAAI2B,UAAJ,KAAmB,CAAnB,IAAwB3B,IAAI0O,MAAJ,KAAe,GAA3C,EAAgD;AAC9C2G,yBAAiBtQ,SAAS8P,aAAT,CAAuB,KAAvB,CAAjB;AACAQ,uBAAe/O,SAAf,GAA2BtG,IAAIuO,YAA/B;AACAxJ,iBAASwC,cAAT,CAAwB,2BAAxB,EAAqD4N,WAArD,CAAiEE,cAAjE;AACD;AACF,KAPD;;AASArV,QAAIuC,IAAJ;AACD,GAhBD;;AAkBAM,SAAOqS,aAAP,GAAuB,UAACV,UAAD,EAAe;AACpC1R,SAAK0Q,WAAL,CAAiBhL,IAAjB,CAAsBgM,UAAtB;AACD,GAFD;;AAIA3R,SAAOwR,aAAP,GAAuB,YAAK;AAC1B,QAAIxT,WAAYC,EAAEC,KAAF,EAAhB;AACA,QAAIuU,QAAY,IAAhB;AACA,QAAIC,YAAYzS,KAAK8M,aAAL,CAAmBS,KAAnB,CAAyBH,KAAzB,CAA+B,GAA/B,EAAoCsB,KAApC,GAA4CgE,QAA5C,EAAhB;;AAEA,QAAK1S,KAAK0Q,WAAL,CAAiBjT,MAAjB,KAA4B,CAACuC,KAAK8M,aAAL,CAAmBmE,WAAnB,CAA+BxT,MAAjE,EAA0E;AACxE+U,cAAQ,KAAR;AACD;;AAED,QAAKA,KAAL,EAAa;AACXzU,eAASuB,OAAT;AACD,KAFD,MAEO;AACLU,WAAK6D,KAAL;AACD;;AAED,WAAO9F,SAAS2B,OAAhB;AACD,GAhBD;;AAkBAK,SAAO8D,KAAP,GAAe,YAAK;AAClB,QAAI2N,UAAUxN,WAAW,YAAW;AAClChE,WAAKuR,aAAL;AACAtN,mBAAauN,OAAb;AACD,KAHa,EAGX,EAHW,CAAd;AAID,GALD;;AAOA,SAAO;AACL9D,cAAU3N,OAAO2N;AADZ,GAAP;AAID,CA3Ia,EAAd","file":"argos.min.js","sourcesContent":["/**\r\n * @namespace ApiRest\r\n * @param {object} [optionsOverride] Set default options\r\n * optionsOverride = {\r\n    'type': 'application/json',\r\n    'headers': [{'key': 'foo', 'value': 'bar'}],\r\n    'charset': 'ASCII',\r\n    'showPreload': true,\r\n    'errorInterceptor': true\r\n    }\r\n  };\r\n *\r\n * @description Esta clase sirve para gestionar las llamadas rest.\r\n * Una vez sacada una instancia, podemos acceder a los métodos get, post, put y delete.\r\n * Un ejemplo con promesas:\r\n *\r\n *  ```javascript\r\n    module.loadCountries = ()=> {\r\n      let instanceRest  = new ApiRest();\r\n      let deferred      = Q.defer();\r\n      let uri           = globals.getRest().getCapital;\r\n\r\n      instanceRest.getResource(uri).then(\r\n        (data)=> {\r\n          deferred.resolve(data);\r\n        },\r\n        (error)=> {\r\n          msg.showErrorServer(error);\r\n          deferred.reject(error);\r\n        });\r\n      return deferred.promise;\r\n    };\r\n    ```\r\n  * En cada instancia podemos sobreescribir las opciones por defecto que se definen en .src/config.json, que de momento son:\r\n  - _type_: el tipo mime (ie, application/json).\r\n  - _headers_: un array de objetos key-value con las cabeceras que se añadirán de forma automática.\r\n  Por ejemplo:\r\n    ```\r\n      [{\r\n        \"key\": \"GS-AUTH-TOKEN\",\r\n        \"value\": \"123456\"\r\n      }]\r\n    ```\r\n  - _showPreload_: si se muestra o no un preloader de forma automática cada vez que se dispara un request (pendiente las css, por cierto)\r\n  - _errorInterceptor_: si se gestionan o no de manera automática los errores indicados en el response (por status o código preestablecido)\r\n  *\r\n  * __todo__:\r\n  - implementar las promesas en los métodos de la clase (?)\r\n  - control de un token caducado.\r\n  - añadir más verbos rest.\r\n */\r\n\r\nclass ApiRest {\r\n\r\n  constructor(optionsOverride) {\r\n    this.options = optionsOverride ? this._setOptions(optionsOverride) : restUtils.getOptionsDefault();\r\n  }\r\n\r\n  /**\r\n  * @memberof ApiRest#\r\n  * @method\r\n  * @name _setOptions\r\n  * @description Método privado para gestionar las opciones por defecto.\r\n  */\r\n  _setOptions(optionsOverride) {\r\n    let prop;\r\n    let optionsDefault = restUtils.getOptionsDefault();\r\n\r\n    for (prop in optionsOverride) {\r\n      if ( optionsDefault.hasOwnProperty(prop) ) {\r\n        optionsDefault[prop] = optionsOverride[prop];\r\n      }\r\n    }\r\n    return optionsDefault;\r\n  }\r\n\r\n  /**\r\n  * @memberof ApiRest#\r\n  * @method\r\n  * @name _setHeaders\r\n  * @description Método privado para modificar los headers del request.\r\n  */\r\n  _setHeaders(req) {\r\n    let i = 0;\r\n    let len;\r\n\r\n    if ( this.options.hasOwnProperty('type') ) {\r\n      req.setRequestHeader('Content-Type', this.options.type +'; charset='+this.options.charset);\r\n    }\r\n    if ( this.options.hasOwnProperty('headers') && this.options.headers.length ) {\r\n      len = this.options.headers.length;\r\n      for (; i<len; i++ ) {\r\n        req.setRequestHeader(this.options.headers[i].key, this.options.headers[i].value);\r\n      }\r\n    }\r\n    return req;\r\n  }\r\n\r\n  /**\r\n  * @memberof ApiRest#\r\n  * @method\r\n  * @name  _doRequest\r\n  * @description Método privado para realizar la petición ajax.\r\n  */\r\n  _doRequest(resource, verb, aditionalData) {\r\n    let deferred  = Q.defer();\r\n    let req           = new XMLHttpRequest();\r\n    let queryString   = verb === 'GET' && typeof aditionalData === 'object' ? restUtils.prepareQueryString(aditionalData) : '';\r\n    let postData      = verb !== 'GET' && aditionalData ? JSON.stringify(aditionalData) : '';\r\n    let serverResponse = {};\r\n\r\n    req.open(verb, resource + queryString, true);\r\n    req = this._setHeaders(req);\r\n\r\n    req.onreadystatechange = (e)=> {\r\n      if ( req.readyState !== 4 ) {\r\n        return;\r\n      }\r\n      serverResponse = restUtils.prepareResponse(e, req, this.options);\r\n\r\n      if ( !serverResponse.isValid && this.options.errorInterceptor ) {\r\n          restUtils.showErrorServer(serverResponse.errorDescription);\r\n          deferred.reject(serverResponse.errorDescription);\r\n\r\n      } else {\r\n        if ( this.options.showPreload ) {\r\n          restUtils.hidePreloader();\r\n        }\r\n       deferred.resolve(serverResponse.content);\r\n      }\r\n    }\r\n\r\n    if ( this.options.showPreload ) {\r\n      restUtils.showPreloader();\r\n    }\r\n\r\n    req.send(postData);\r\n    return deferred.promise;\r\n  }\r\n\r\n  /**\r\n  * @memberof ApiRest#\r\n  * @method\r\n  * @name getResource\r\n  * @param {string} resource. URL del recurso.\r\n  * @param {array} [queryString]. Un array de objetos que se añaden como query string (también se puede indicar directamente en el resource)\r\n  * @return {undefined}\r\n  * @description Método público para realizar las peticiones GET.\r\n  */\r\n  getResource(resource, queryString) {\r\n    return this._doRequest(resource, 'GET', queryString);\r\n  }\r\n\r\n  /**\r\n  * @memberof ApiRest#\r\n  * @method\r\n  * @name postResource\r\n  * @param {string} resource. URL del recurso.\r\n  * @param {object} [postData]. Un json con los datos a enviar.\r\n  * @return {undefined}\r\n  * @description Método público para realizar las peticiones POST.\r\n  */\r\n  postResource(resource, postData) {\r\n    return this._doRequest(resource, 'POST', postData);\r\n  }\r\n\r\n  /**\r\n  * @memberof ApiRest#\r\n  * @method\r\n  * @name putResource\r\n  * @param {string} resource. URL del recurso.\r\n  * @param {object} [postData]. Un json con los datos a enviar.\r\n  * @return {undefined}\r\n  * @description Método público para realizar las peticiones PUT.\r\n  */\r\n  putResource(resource, putData) {\r\n    return this._doRequest(resource, 'PUT', putData);\r\n  }\r\n\r\n\r\n  /**\r\n  * @memberof ApiRest#\r\n  * @method\r\n  * @name deleteResource\r\n  * @param {string} resource. URL del recurso.\r\n  * @param {object} [postData]. Un json con los datos a enviar.\r\n  * @return {undefined}\r\n  * @description Método público para realizar las peticiones DELETE.\r\n  */\r\n  deleteResource(resource, deleteData) {\r\n    return this._doRequest(resource, 'DELETE', deleteData);\r\n  }\r\n\r\n}\r\n","/**\r\n * @namespace config\r\n * @description Módulo para gestionar los datos de configuración iniciales de la aplicación, los cuales se definen en ./src/theme/config.json\r\n */\r\n\r\n'use strict';\r\n\r\nconst config = (function() {\r\n\r\n  let module  = {};\r\n  let self    = module;\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @name _configGeneral\r\n  * @description Objeto privado con la configuración general.\r\n  * @property {string} environment El entorno de trabajo: develop, production, test, etcétera.\r\n  * @property {string} lang El idioma por defecto (para seleccionar los textos definidos en .src/shell/theme/langs)\r\n  */\r\n  module._configGeneral  = {\r\n\t\t'environment': 'develop',\r\n\t\t'lang': 'en_En'\r\n  };\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @name _optionsState\r\n  * @description Objeto privado para configurar las opciones de la navegación por estados\r\n  * @property {boolean} forceEntry Si debe cargarse un estado por defecto al entrar en la web.\r\n  * @property {string} defaultState El estado que debe cargarse por defecto.\r\n  */\r\n\tmodule._optionsState = {\r\n    'forceEntry': false,\r\n    'defaultState': 'main'\r\n\t};\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @name _serviceWorkers\r\n  * @description Objeto privado para gestionar los service workers\r\n  * @property {boolean} active Si cargan o no.\r\n  */\r\n  module._serviceWorkers = {\r\n    'active': false\r\n  };\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @method\r\n  * @name init\r\n  * @description Método público para cargar la configuración definida en el config.json del theme.\r\n  * @return {object} Devuelve una promesa.\r\n  */\r\n  module.init = ()=> {\r\n    let deferred = Q.defer();\r\n    let urlConfig = './shell/theme/config.json';\r\n    let restOptions = {\r\n      'type': 'application/json',\r\n      'showPreload': false,\r\n      'errorInterceptor': true\r\n    };\r\n    let instanceRest = new ApiRest(restOptions);\r\n\r\n    instanceRest.getResource(urlConfig).then(\r\n      (data)=> {\r\n        self._initAll(data);\r\n        deferred.resolve();\r\n      },\r\n      (error) => {\r\n        log.error('error get config data: '+ error);\r\n        deferred.reject();\r\n      });\r\n      return deferred.promise;\r\n  };\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @method\r\n  * @name _initAll\r\n  * @description Método privado para distribuir los seteos de config.json.\r\n  */\r\n  module._initAll = (data)=> {\r\n    self._configGeneral.environment  = data.generalData.environment;\r\n    self._configGeneral.lang         = data.generalData.lang;\r\n    self._serviceWorkers.active      = data.serviceWorkers.active;\r\n\r\n    if ( data.rest.hasOwnProperty('restOptions') ) {\r\n      restUtils.setOptionsDefault(data.rest.restOptions);\r\n    }\r\n    if ( data.rest.hasOwnProperty('specialCodes') ) {\r\n      restUtils.setSpecialCodes(data.rest.specialCodes);\r\n    }\r\n    if (  data.hasOwnProperty('optionsState') && data.optionsState.hasOwnProperty('forceEntry') ) {\r\n      self._optionsState.forceEntry    = data.optionsState.forceEntry;\r\n      self._optionsState.defaultState  = data.optionsState.defaultState;\r\n    }\r\n  };\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @method\r\n  * @name getOptionsState\r\n  * @description Método público para recuperar las opciones de la navegación por estados.\r\n  * @return {object}\r\n  */\r\n  module.getOptionsState = () => {\r\n    return self._optionsState;\r\n  };\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @method\r\n  * @name getServiceWorkers\r\n  * @description Método público para recuperar las opciones relacionadas con los service workers.\r\n  * @return {object}\r\n  */\r\n  module.getServiceWorkers = () => {\r\n    return self._serviceWorkers;\r\n  };\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @method\r\n  * @name getEnvironment\r\n  * @description Método público que devuelve el environment.\r\n  * @return {string}\r\n  */\r\n  module.getEnvironment = ()=> {\r\n    return self._configGeneral.environment;\r\n  };\r\n\r\n  /**\r\n  * @memberof config#\r\n  * @method\r\n  * @name getLang\r\n  * @description Método público que devuelve el idioma definido en config.json.\r\n  * @return {string}\r\n  */\r\n  module.getLang  = ()=> {\r\n    return self._configGeneral.lang;\r\n  };\r\n\r\n  return {\r\n    init:               module.init,\r\n    getOptionsState:    module.getOptionsState,\r\n    getEnvironment:     module.getEnvironment,\r\n    getLang:            module.getLang,\r\n    getServiceWorkers:  module.getServiceWorkers\r\n  };\r\n\r\n } )();\r\n","/**\r\n * @namespace Ar\r\n * @description Lite module for DOM manipulating\r\n * methods (work in progress)\r\n *\r\n  *  **text()** inserta una cadena de texto en los elementos seleccionados\r\n  *  ```javascript\r\n    Ar('.foo').text('bazinga');\r\n    ```\r\n\r\n  *  **html()** inserta una cadena de html en los elementos seleccionados. Su uso es obligatorio cuando se inserta html derivado del mundo exterior de la aplicación, ya que previene la inserción de scripts.\r\n  *  ```javascript\r\n    Ar('.foo').html('bazinga');\r\n    ```\r\n\r\n  *  **hide()** oculta uno o más elementos\r\n  * ```javascript\r\n    Ar('.foo').hide();\r\n    ```\r\n\r\n  * **show()** muestra uno o más elementos\r\n  *  ```javascript\r\n    Ar('.foo').hide();\r\n    ```\r\n\r\n  *  **toggle()** togglea la visibilidad de uno o más elementos\r\n  * ```javascript\r\n    Ar('.foo').hide();\r\n    ```\r\n\r\n  *  **addClass()** añade una clase\r\n  * ```javascript\r\n    Ar('.foo').addClass('clase');\r\n    ```\r\n\r\n  *  **removeClass()** elimina una clase\r\n  * ```javascript\r\n    Ar('.foo').removeClass('clase');\r\n    ```\r\n\r\n  *  **toggleClass()** togglea una clase\r\n  * ```javascript\r\n    Ar('.foo').toggleClass('clase');\r\n    ```\r\n\r\n  *  **setStyle()** cambia un estilo (en línea)\r\n  * ```javascript\r\n    Ar('.foo').setStyle('color', 'red');\r\n    ```\r\n\r\n  *  **remove()** elimina un nodo (y sus listeners asociados)\r\n  * ```javascript\r\n    Ar('.foo').remove();\r\n    ```\r\n\r\n  *  **onRender()** chequea que un nodo esté renderizado\r\n  * ```javascript\r\n    Ar().onRender('#foo');\r\n    ```\r\n*/\r\n\r\n(function () {\r\n\r\n  const argosDom = function (params) {\r\n    let selector = document.querySelectorAll(params);\r\n    let i = 0;\r\n    this.length = selector.length;\r\n\r\n    for (; i < this.length; i++) {\r\n      this[i] = selector[i];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  const Ar = function(params) {\r\n    return new argosDom(params);\r\n  };\r\n\r\n  const methods = {};\r\n\r\n  methods.self = this;\r\n\r\n  methods.hide = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.add('argos-hide');\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.show = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.remove('argos-hide');\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.toggle = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.toggle('argos-hide');\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.addClass = function(classAdd) {\r\n    let len = this.length;\r\n\r\n    if ( classAdd ) {\r\n      while (len--) {\r\n        this[len].classList.add(classAdd);\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.removeClass = function(classRemove) {\r\n    let len = this.length;\r\n\r\n    if ( classRemove ) {\r\n      while (len--) {\r\n        this[len].classList.remove(classRemove);\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.toggleClass = function(classToggle) {\r\n    let len = this.length;\r\n\r\n    if (classToggle ) {\r\n      while (len--) {\r\n        this[len].classList.toggle(classToggle);\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.setStyle = function(style, value) {\r\n    let len = this.length;\r\n\r\n    if ( style && value ) {\r\n      while (len--) {\r\n        this[len].style[style] = value;\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.fade = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.add('fade');\r\n      this[len].classList.add('fade-in');\r\n      this[len].classList.add('fade-out');\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  methods.text = function(text) {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].textContent = text;\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  methods.html = function(content) {\r\n    let len = this.length;\r\n\r\n    if ( content.indexOf('script') !== -1 ) {\r\n      content = 'scripts are not allowed';\r\n    }\r\n\r\n    while (len--) {\r\n      this[len].innerHTML = content;\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  methods.remove = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      if ( this[len].parentNode ) {\r\n        this[len].parentNode.removeChild(this[len]);\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  methods.onRender = function(node) {\r\n    let deferred = Q.defer();\r\n    const timer = {\r\n\r\n      interval: function() {\r\n        let self = this;\r\n        let timeCount = setTimeout(function() {\r\n          clearTimeout(timeCount);\r\n          self.init(node);\r\n        }, 100);\r\n      },\r\n\r\n      init: function(node) {\r\n        let nodeToCheck = document.querySelectorAll(node);\r\n\r\n        if ( !nodeToCheck || nodeToCheck.length === 0 ) {\r\n          this.interval(node);\r\n          return;\r\n        }\r\n        deferred.resolve();\r\n      }\r\n\r\n    };\r\n\r\n    timer.init(node);\r\n    return deferred.promise;\r\n  };\r\n\r\n  methods.isEmpty = function(obj) {\r\n    let object = obj;\r\n\r\n    for(let prop in object) {\r\n      if(object.hasOwnProperty(prop)){\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  methods.openModal = function(idModal) {\r\n    let modal = document.getElementById(idModal);\r\n\r\n    modal.setAttribute('show','show');\r\n  };\r\n\r\n  methods.closeModal = function() {\r\n    this[0].setAttribute('show','hidden');\r\n  };\r\n\r\n  Ar.fn = argosDom.prototype = methods;\r\n\r\n  if ( !window.Ar ) {\r\n    window.Ar = Ar;\r\n  }\r\n\r\n})();\r\n","/**\r\n * @namespace forms\r\n * @description module for work with forms.\r\n * todo: show error server\r\n */\r\n\r\n'use strict';\r\n\r\nconst forms = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  /* ====================================================\r\n      get values\r\n  ==================================================== */\r\n\r\n  /**\r\n  * @memberof forms#\r\n  * @method\r\n  * @name getValues\r\n  * @param {string} idForm - The id of the form.\r\n  * @return {object} All form childrens values.\r\n  * @description return pair key-value for each input.\r\n  * The inputs need have the class 'js-itemForm' and, recommended, an atribute called 'data-key'.\r\n  * @example:\r\n  *  ```html\r\n    <input type=\"text\" name=\"inputText\" class=\"js-itemForm\" data-key=\"inputText\">\r\n    ```\r\n  */\r\n  module.getValues = (idForm)=> {\r\n    let nodes       = document.querySelectorAll('#'+idForm + ' .js-itemForm');\r\n    let jsonForm    = {};\r\n    let i           = 0;\r\n    let len         = nodes.length;\r\n    let key         = '';\r\n    let value       = '';\r\n    /* guardamos aquí los radioButtons para no setearlos más de una vez */\r\n    let radioInputs = [];\r\n\r\n    if ( !len ) {\r\n      log.warning('the form dont have inputs or mybe forget add js-itemForm class?');\r\n    }\r\n\r\n    for (; i<len; i++) {\r\n      if ( nodes[i].type.toLowerCase() !== 'radio' || radioInputs.indexOf(nodes[i].name) === -1 ) {\r\n        key   = nodes[i].getAttribute('data-key') || nodes[i].name || i;\r\n        value = self.getValue(nodes[i]);\r\n        jsonForm[key] = value;\r\n        if ( nodes[i].type.toLowerCase() === 'radio' ) {\r\n          radioInputs.push(nodes[i].name);\r\n        }\r\n      }\r\n    }\r\n\r\n    return jsonForm;\r\n  };\r\n\r\n  /**\r\n  * @memberof forms#\r\n  * @method\r\n  * @name getValue\r\n  * @param {string | object} _node_ - The id element or the element of form.\r\n  * @return {string |array} The form element value.\r\n  */\r\n  module.getValue = (_node_)=> {\r\n    let node     = typeof _node_ === 'string' ? document.getElementById(idNode) : _node_;\r\n    let value    = '';\r\n    let type     = '';\r\n\r\n    if ( !node ) {\r\n      log.warning('getValue() :: there is no element');\r\n    }\r\n\r\n    type = node.tagName.toLowerCase() !== 'input' ? node.tagName.toLowerCase() : node.type.toLowerCase();\r\n    type = type === 'select' && node.type === 'select-multiple' ? 'select-multiple' : type;\r\n\r\n    switch (type) {\r\n      case 'text':\r\n      case 'textarea':\r\n      case 'number':\r\n        value = node.value.trim();\r\n        break;\r\n      case 'checkbox':\r\n        value = node.checked ? node.value : false;\r\n        break;\r\n      case 'radio':\r\n        value = document.querySelector('input[name = \"' + node.name + '\"]:checked').value;\r\n        break;\r\n      case 'select-multiple':\r\n        value = self._getMultiSelectValues(node);\r\n        break;\r\n      default:\r\n        value = node.value;\r\n    }\r\n\r\n    return value;\r\n  };\r\n\r\n  /**\r\n  * @memberof forms#\r\n  * @method\r\n  * @name _getMultiSelectValues\r\n  * @param {object} _node_ - The element multi-select of form.\r\n  * @return {array} The multi-select value.\r\n  */\r\n  module._getMultiSelectValues = (node)=> {\r\n    let selectedValues = [];\r\n    let i = 0;\r\n    let len = node.length;\r\n\r\n    for (; i < len; i++) {\r\n      if (node.options[i].selected) {\r\n        selectedValues.push(node.options[i].value);\r\n      }\r\n    }\r\n    return selectedValues;\r\n  };\r\n\r\n  /* ====================================================\r\n      utils\r\n  ==================================================== */\r\n\r\n  module.enabled = (idNode)=> {\r\n    self._setEnabled(idNode, false);\r\n  };\r\n\r\n  module.disabled = (idNode)=> {\r\n    self._setEnabled(idNode, true);\r\n  };\r\n\r\n  module._setEnabled = (idNode, enab)=> {\r\n    document.getElementById(idNode).setAttribute('disabled', enab);\r\n  };\r\n\r\n  module.required = (idNode)=> {\r\n    self._setRequired(idNode, 'required');\r\n  };\r\n\r\n  module.notRequired = (idNode)=> {\r\n    self._setRequired(idNode, false);\r\n  };\r\n\r\n  module._setRequired = (idNode, req)=> {\r\n    document.getElementById(idNode).setAttribute('data-required', req);\r\n  };\r\n\r\n  /* ====================================================\r\n      validity checks\r\n  ==================================================== */\r\n\r\n  module.isValid = (idForm)=> {\r\n    let nodes       = document.querySelectorAll('#'+idForm + ' .js-itemForm');\r\n    let i           = 0;\r\n    let len         = nodes.length;\r\n    let isValid     = true;\r\n\r\n    if ( !len ) {\r\n      log.warning('the form dont have inputs or mybe forget add js-itemForm class?');\r\n    }\r\n\r\n    self.resetErrors(idForm);\r\n\r\n    for (; i<len; i++) {\r\n      if ( !self.checkRequired(nodes[i]) || !self.checkType(nodes[i]) || !self.customValidation(nodes[i]) ) {\r\n        isValid = false;\r\n      }\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  /* No le paso los nodos para que se pueda usar como método de forma independiente */\r\n  module.resetErrors = (idForm)=> {\r\n    let nodes = document.querySelectorAll('#'+idForm + ' .js-itemForm');\r\n    let i     = 0;\r\n    let len   = nodes.length;\r\n\r\n    for (; i<len; i++) {\r\n      nodes[i].classList.remove('hasError');\r\n    }\r\n\r\n    nodes = document.querySelectorAll('#'+idForm + ' .js-argosErrorMsg');\r\n    i     = 0;\r\n    len   = nodes.length;\r\n\r\n    for (; i<len; i++) {\r\n     nodes[i].parentNode.removeChild(nodes[i]);\r\n    }\r\n  };\r\n\r\n  module.checkRequired = (node)=> {\r\n    let isValid = true;\r\n\r\n    if ( node.getAttribute('data-required') === 'required' && !self.getValue(node) ) {\r\n      isValid = false;\r\n      self.addError(node, 'required');\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  module.checkType = (node)=> {\r\n    let type =  node.getAttribute('data-type');\r\n\r\n    switch(type) {\r\n      case 'isNumber':\r\n        return self._checkIsNumber(node);\r\n      case 'isString':\r\n        return self._checkIsString(node);\r\n      case 'isEmail':\r\n      return self._checkIsEmail(node);\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  module._checkIsString = (node)=> {\r\n    let isValid = true;\r\n    let rule    = /[1-9]/i;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule.test(value) ) {\r\n      isValid = false;\r\n      self.addError(node, 'notString');\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  module._checkIsNumber = (node)=> {\r\n    let isValid = true;\r\n    let rule    = /^[0-9]*$/g;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule.test(value) ) {\r\n      isValid = false;\r\n      self.addError(node, 'notNumber');\r\n    }\r\n\r\n    if ( node.getAttribute('data-zero') && node.getAttribute('data-zero') === 'notAllowed' && value === 0 ) {\r\n      self.addError(node, 'notZero');\r\n      isValid = false;\r\n    }\r\n\r\n    if ( node.getAttribute('data-negative') && node.getAttribute('data-negative') === 'notAllowed' && value < 0 ) {\r\n      self.addError(node, 'notNegative');\r\n      isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  module._checkIsEmail = (node)=> {\r\n    let isValid = true;\r\n    let rule    = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}/;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule.test(value) ) {\r\n        isValid = false;\r\n        self.addError(node, 'notEmail');\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  module.customValidation = (node)=> {\r\n    let isValid = true;\r\n    let rule    = node.getAttribute('data-regex') ? new RegExp(node.getAttribute('data-regex'), 'i') : false;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule ) {\r\n      return isValid;\r\n    }\r\n\r\n    if ( !rule.test(value) ) {\r\n      isValid = false;\r\n      self.addError(node, node.getAttribute('data-regexErrMsg') || 'wrongFormat');\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  /* todo: ampliar tipología de errores */\r\n  module.addError = (node, errorType)=> {\r\n    let errorString = '';\r\n\r\n    switch (errorType) {\r\n      case 'required':\r\n        errorString = globals.getTexts().formValidations.isRequired;\r\n        break;\r\n      default:\r\n        errorString = globals.getTexts().formValidations.wrongFormat;\r\n    }\r\n    node.insertAdjacentHTML('afterend', self.addErrorMsg(errorString));\r\n    node.classList.add('hasError');\r\n  };\r\n\r\n  module.addErrorMsg = (msg)=> {\r\n    let stringHTML = `<div class=\"form__error js-argosErrorMsg\"><div class=\"form__error__arrow\"></div>${msg}</div></div>`;\r\n\r\n    return stringHTML;\r\n  };\r\n\r\n  return {\r\n    getValues:          module.getValues,\r\n    getValue:           module.getValue,\r\n    disabled:           module.disabled,\r\n    enabled:            module.enabled,\r\n    required:           module.required,\r\n    notRequired:        module.notRequired,\r\n    isValid:            module.isValid,\r\n    checkRequired:      module.checkRequired,\r\n    checkType:          module.checkType,\r\n    customValidation:   module.customValidation,\r\n    addError:           module.addError,\r\n    addErrorMsg:        module.addErrorMsg\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace globals\r\n * @description get and set application global data\r\n */\r\nconst globals = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.allStates    = [];\r\n  module.allTexts     = {};\r\n  module.allEndPoints = {};\r\n\r\n  module.currentState = {\r\n\t\t'state': 'main',\r\n  \t'section': ''\r\n\t};\r\n\r\n  module.getAllStates = ()=> {\r\n    return self.allStates;\r\n  };\r\n\r\n  module.loadAllStates = ()=> {\r\n    let instanceRest = new ApiRest();\r\n    let deferred     = Q.defer();\r\n    let uri          = './shell/theme/states.json';\r\n\r\n    instanceRest.getResource(uri).then(\r\n      (data)=> {\r\n        self.allStates = data.states;\r\n        deferred.resolve(data);\r\n      },\r\n      (error) => {\r\n        log.error('error get states: '+ error);\r\n        deferred.reject();\r\n      });\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.setCurrentState = (_state_, _section_)=> {\r\n    if ( !_state_) {\r\n      log.warning('dont set state if stage is not defined');\r\n      return;\r\n    }\r\n    self.currentState.state    = _state_;\r\n    self.currentState.section  =  _section_ ? _section_ : '';\r\n  };\r\n\r\n  module.getCurrentState = ()=> {\r\n    return self.currentState;\r\n  };\r\n\r\n  module.getTexts = ()=> {\r\n    return self.allTexts;\r\n  };\r\n\r\n  module.loadTexts = ()=> {\r\n    let instanceRest = new ApiRest();\r\n    let deferred     = Q.defer();\r\n    let lang         = config.getLang();\r\n    let uri          = './shell/theme/langs/' + lang + '.json';\r\n\r\n    instanceRest.getResource(uri).then(\r\n      (data)=> {\r\n        self.allTexts = data;\r\n        deferred.resolve(data);\r\n      },\r\n      (error) => {\r\n        log.error('error loadTexts: '+ error);\r\n        deferred.reject();\r\n      });\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.loadRest = ()=> {\r\n    let instanceRest = new ApiRest();\r\n    let deferred     = Q.defer();\r\n    let lang         = config.getLang();\r\n    let uri          = './shell/theme/rest.json';\r\n\r\n    instanceRest.getResource(uri).then(\r\n      (data)=> {\r\n        self.prepareRest(data);\r\n        deferred.resolve();\r\n      },\r\n      (error) => {\r\n        log.error('error load config rest: '+ error);\r\n        deferred.reject();\r\n      });\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.prepareRest = (data)=> {\r\n    let environment = config.getEnvironment();\r\n    let prefix      = data.generalData.baseUrl[environment];\r\n    let suffix      = data.generalData.type[environment];\r\n\r\n    for (let prop in data.endPoints) {\r\n      self.allEndPoints[prop] = prefix + data.endPoints[prop] + suffix;\r\n    }\r\n\r\n  };\r\n\r\n  module.getRest = ()=> {\r\n    return self.allEndPoints;\r\n  };\r\n\r\n  return {\r\n    getAllStates:     module.getAllStates,\r\n    loadAllStates:    module.loadAllStates,\r\n    getCurrentState:  module.getCurrentState,\r\n    setCurrentState:  module.setCurrentState,\r\n    getTexts:         module.getTexts,\r\n    loadTexts:        module.loadTexts,\r\n    loadRest:         module.loadRest,\r\n    getRest:          module.getRest\r\n  };\r\n\r\n})();\r\n","/**\r\n * @namespace jsonUtils\r\n * @description utils to work with collections (arrays and objects)\r\n */\r\n\r\n'use strict';\r\n\r\nconst jsonUtils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.copyObject = (obToCopy)=> {\r\n    return JSON.parse(JSON.stringify(obToCopy));\r\n  };\r\n\r\n  module.findInArray = (_array_, valueToFind)=> {\r\n    let i   = 0;\r\n    let len = _array.length;\r\n\r\n    for(; i<len; i++) {\r\n      if ( valueToFind === _array_[i] ) {\r\n        return _array_[i];\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  module.findInObject = (_array_, key, value)=> {\r\n    let i   = 0;\r\n    let len = _array_.length;\r\n\r\n    for(; i<len; i++) {\r\n      for (let prop in _array_[i] ) {\r\n        if ( prop === key && _array_[i][prop] === value ) {\r\n          return _array_[i];\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  return {\r\n    copyObject:     module.copyObject,\r\n    findInArray:    module.findInArray,\r\n    findInObject:   module.findInObject\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace logErrors\r\n * @description get and set application global data\r\n * todo: send errors to server\r\n */\r\nconst logErrors = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.init = ()=> {\r\n    self.addListeners();\r\n  };\r\n\r\n  module.addListeners = ()=> {\r\n    window.onerror = function(message, source, lineno, colno, error) {\r\n      let msg =\r\n        `error: ${message}\r\n        file: ${source}\r\n        line: ${lineno}\r\n        col: ${colno}\r\n        error: ${error}`;\r\n        log.error(msg)\r\n    }\r\n  };\r\n\r\n  return {\r\n    init: module.init\r\n  };\r\n\r\n})();\r\n","/**\r\n * @namespace log\r\n * @description Módulo con el que usar logs de consola de forma segura, ya que no se muestran en un entorno de producción.\r\n * Utilizar siempre estos métodos en lugar de console.algo().\r\n * @example\r\n * log.error('Error recuperando foo');\r\n */\r\n\r\n'use strict';\r\n\r\nconst log = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  const environment = config.getEnvironment();\r\n\r\n  /**\r\n  * @memberof log#\r\n  * @method\r\n  * @name success\r\n  * @description log ok.\r\n  */\r\n  module.success = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #45a163');\r\n    }\r\n  };\r\n\r\n  /**\r\n  * @memberof log#\r\n  * @method\r\n  * @name log\r\n  * @description log normal.\r\n  */\r\n  module.log = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #005999');\r\n    }\r\n  };\r\n\r\n  /**\r\n  * @memberof log#\r\n  * @method\r\n  * @name log\r\n  * @description log warnings.\r\n  */\r\n  module.warning = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #f48024');\r\n    }\r\n  };\r\n\r\n  /**\r\n  * @memberof log#\r\n  * @method\r\n  * @name error\r\n  * @description log ko.\r\n  */\r\n  module.error = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #f42424');\r\n    }\r\n  };\r\n\r\n  /**\r\n  * @memberof log#\r\n  * @method\r\n  * @name table\r\n  * @description log de colecciones.\r\n  */\r\n  module.table = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.table(msg);\r\n    }\r\n  };\r\n\r\n  return {\r\n    success:  module.success,\r\n    log:      module.log,\r\n    warning:  module.warning,\r\n    error:    module.error,\r\n    table:    module.table\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace msg\r\n * @description Gestiona los mensajes que se le muestran al usuario\r\n */\r\nconst msg = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module._lastClass = '';\r\n\r\n  module.showError = (header, body)=> {\r\n    self._showMsg('alert', header, body);\r\n  };\r\n\r\n  module.showWarning = (header, body)=> {\r\n    self._showMsg('warning', header, body);\r\n  };\r\n\r\n  module.showSuccess = (header, body)=> {\r\n    self._showMsg('success', header, body);\r\n  };\r\n\r\n  module.showErrorServer = (error)=> {\r\n    self._showMsg.showMsg('alert', 'server error', error);\r\n    // todo : bloquear la aplicación\r\n  };\r\n\r\n  module.showMsg = (type, header, body)=> {\r\n    let msgElement  = document.getElementById('argos-msg');\r\n    let msgHeader   = header || '';\r\n    let msgBody     = body || '';\r\n\r\n    if ( self._lastClass ) {\r\n      msgElement.classList.remove(self._lastClass);\r\n    }\r\n    self._lastClass = type;\r\n    msgElement.classList.add(type);\r\n\r\n    document.getElementById('argos-msg-header').textContent = msgHeader;\r\n    document.getElementById('argos-msg-body').textContent = msgBody;\r\n\r\n    msgElement.classList.add('argos-fade-out');\r\n    msgElement.classList.remove('argos-hide');\r\n    msgElement.classList.add('argos-fade-in');\r\n  };\r\n\r\n  return {\r\n    showError:          module.showError,\r\n    showWarning:        module.showWarning,\r\n    showSuccess:        module.showSuccess,\r\n    showErrorServer:    module.showErrorServer\r\n  };\r\n\r\n})();\r\n\r\n","const restUtils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.optionsDefault = {\r\n    'type': 'application/json',\r\n    'headers': [],\r\n    'charset': 'utf-8',\r\n    'showPreload': true,\r\n    'errorInterceptor': true\r\n  };\r\n\r\n  module.codes = {\r\n    'success': 'san-200',\r\n    'notFound': 'san-404',\r\n    'notAuth': 'san-403',\r\n    'serverError': 'san-500',\r\n    'tokenExpiration': '401',\r\n    'tokenSanExpiration': 'san-441',\r\n    'tokenCorporateExpiration': 'san-442'\r\n  };\r\n\r\n  module.prepareResponse = (e, req, options)=> {\r\n    let validation        = {};\r\n    let response          = options.type === 'application/json' ? self.parseResponse(e) : req.responseText;\r\n    let blockingErrors400 = ['403', '405', '406', '413', '414', '415', '416', '417', '429'];\r\n    let blockingErrors500  = /^5/;\r\n\r\n    validation.isValid          = true,\r\n    validation.content          = response;\r\n    validation.errorDescription = '';\r\n\r\n    if ( blockingErrors500.test(req.status) || blockingErrors400.indexOf(req.status) !== -1 ) {\r\n      validation.isValid          = false;\r\n      validation.errorDescription = req.status.statusText ? req.status.statusText : 'error server';\r\n      return validation;\r\n    }\r\n\r\n    if ( !options ) {\r\n      return validation;\r\n    }\r\n\r\n    if ( options.type === 'application/json' && !response ) {\r\n      validation.isValid          = false;\r\n      validation.errorDescription = 'error server: bad format json';\r\n      return validation;\r\n    }\r\n\r\n    if ( response.hasOwnProperty('result') && response.result.code === self.codes.serverError ) {\r\n      validation.isValid          = false;\r\n      validation.errorDescription = response.result.message ? response.result.message : 'error server';\r\n      return validation;\r\n    }\r\n\r\n    return validation;\r\n  };\r\n\r\n  module.parseResponse = (e)=> {\r\n    let data = {};\r\n\r\n    try {\r\n       data = JSON.parse(e.target.responseText);\r\n    } catch(error) {\r\n      data = null;\r\n      log.error('error parsing data', e);\r\n    }\r\n    return data;\r\n  };\r\n\r\n  module.validCode = (result)=> {\r\n    if ( result.code === this.codes.success ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  module.checkTokenExpired = (result)=> {\r\n    if ( result.code === this.codes.tokenSanExpiration ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // todo, revisar\r\n  module.resetToken = ()=> {\r\n//     let deferred = Q.defer();\r\n//\r\n//     function reset(corporateToken) {\r\n//       restToken.getAuthToken(corporateToken).then(function(data) {\r\n//         restOptions.headers[0].value = data.authToken;\r\n//         deferred.resolve();\r\n//       });\r\n//     }\r\n//\r\n//     if ( !config.tokenUrl ) {\r\n//       restToken.getCorporateToken().then(function(corporateToken) {\r\n//         reset(corporateToken);\r\n//       });\r\n//     } else {\r\n//       reset(corporateToken);\r\n//     }\r\n//     return deferred.promise;\r\n  };\r\n\r\n  module.getOptionsDefault = ()=> {\r\n    return JSON.parse(JSON.stringify(self.optionsDefault));\r\n  };\r\n\r\n  module.setOptionsDefault = (newOptions)=> {\r\n    let key;\r\n\r\n    if ( typeof newOptions !== 'object' ) {\r\n      log.error('new options must be an object');\r\n      return false;\r\n    }\r\n    for ( key in newOptions ) {\r\n      self.optionsDefault.key = newOptions[key]\r\n    }\r\n    return true;\r\n  };\r\n\r\n  module.prepareQueryString = (queryString)=> {\r\n    let query   = queryString || {};\r\n    let output  = '?';\r\n    let prop;\r\n\r\n    for (prop in query) {\r\n      if ({}.hasOwnProperty.call(query, prop)) {\r\n        output += prop + '=' + query[prop] + '&';\r\n      }\r\n    }\r\n    output = output.length ? output.slice(0, -1) : output;\r\n\r\n    return output;\r\n  };\r\n\r\n  module.getSpecialCodes = ()=> {\r\n    return self.codes;\r\n  };\r\n\r\n  module.setSpecialCodes = (specialCodes)=> {\r\n    self.codes = specialCodes;\r\n  };\r\n\r\n  /* todo: preparar una alternativa no polymer */\r\n  module.showPreloader = function() {\r\n    let node = document.getElementById('js-mainPreload');\r\n\r\n    if ( node ) {\r\n      node.setAttribute('show', 'show');\r\n    }\r\n  };\r\n\r\n  /* todo: preparar una alternativa no polymer */\r\n  module.hidePreloader = function() {\r\n    let node = document.getElementById('js-mainPreload');\r\n\r\n    if ( node ) {\r\n      node.setAttribute('show', 'hidden');\r\n    }\r\n  };\r\n\r\n  module.showErrorServer = function(errorMsg) {\r\n    msg.showErrorServer(errorMsg);\r\n  };\r\n\r\n  return {\r\n    getOptionsDefault:  module.getOptionsDefault,\r\n    setOptionsDefault:  module.setOptionsDefault,\r\n    getSpecialCodes:    module.getSpecialCodes,\r\n    setSpecialCodes:    module.setSpecialCodes,\r\n    prepareQueryString: module.prepareQueryString,\r\n    prepareResponse:    module.prepareResponse,\r\n    showPreloader:      module.showPreloader,\r\n    hidePreloader:      module.hidePreloader,\r\n    showErrorServer:    module.showErrorServer\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace router\r\n * @description proxy routes\r\n */\r\nconst router = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.stateSelected = {};\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name init\r\n  * @return {undefined}\r\n  * @description init states listeners\r\n  */\r\n  module.init = ()=> {\r\n    if ( !self.checkIsSupported() ) {\r\n      msg.showError('browser deprecated', 'No support api navigation');\r\n      return;\r\n    }\r\n    self.addListeners();\r\n  };\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name checkIsSupported\r\n  * @return {boolean}\r\n  * @description check if browser can manage history and pushState,\r\n  * necessary for the system router.\r\n  */\r\n  module.checkIsSupported = ()=> {\r\n    if ('history' in window && 'pushState' in history) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name addListeners\r\n  * @return {undefined}\r\n  * @description add listener to hash (#) change\r\n  */\r\n  module.addListeners = ()=> {\r\n    window.addEventListener('hashchange', ()=> {\r\n      self.setRoute();\r\n    });\r\n  };\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name setRoute\r\n  * @return {undefined}\r\n  * @description set the url, call lazy load controllers, and call the method defined in routes.json\r\n  */\r\n\r\n//// OJO, FALTA CUANDO VIENE X ENLACE\r\n\r\n  module.setRoute = ()=> {\r\n    let argumentsFn = self.stateSelected.params ? self.stateSelected.params.split(',') : null;\r\n    let stateSelected;\r\n\r\n    /* Si no venimos de stateGo, hay que recuperar los datos */\r\n    if ( !self.stateSelected.stateGo ) {\r\n      stateSelected = self.findRouteByUrl();\r\n      /* Si no hay ningún estado, dejamos pasar para que se puedan usar los hastagh en la página */\r\n      if ( !stateSelected ) {\r\n        return;\r\n      } else {\r\n        self.stateSelected.state    = stateSelected.state;\r\n        self.stateSelected.section  = stateSelected.section;\r\n        self.stateSelected.entry    = stateSelected.entry;\r\n        self.stateSelected.url      = stateSelected.url;\r\n      }\r\n    }\r\n\r\n    globals.setCurrentState(self.stateSelected.state, self.stateSelected.section);\r\n\r\n    views.loadView(self.stateSelected.state).then( ()=> {\r\n      /* Si al final uso un namespace, pasar este en lugar de window */\r\n      self.executeFunction(self.stateSelected.entry, window, argumentsFn);\r\n      history.replaceState(self.stateSelected, self.stateSelected.state, '#'+self.stateSelected.url);\r\n      self.resetStateSelected();\r\n    });\r\n  };\r\n\r\n  module.stateGo = (state, params)=> {\r\n    let currentHash = window.location.hash;\r\n\r\n    self.stateSelected = JSON.parse( JSON.stringify(self.findRouteByState(state)) );\r\n\r\n    /* Cacheamos aquí los parámetros para pasarlos más adelante */\r\n    self.stateSelected.params = params;\r\n\r\n    /* Marcamos que venimos de state go para no duplicar el trabajo más adelante\r\n    y saber que ya tenemos el state seleccionado */\r\n     self.stateSelected.stateGo = true;\r\n\r\n    /* Para poder llamar a la misma página debemos chequear si estamos llamando\r\n    al mismo estado */\r\n    if ( currentHash && currentHash.replace('#', '') === self.stateSelected.url ) {\r\n      self.setRoute();\r\n    } else {\r\n      window.location.hash = self.stateSelected.url;\r\n    }\r\n  };\r\n\r\n  module.resetStateSelected = ()=>{\r\n    self.stateSelected = {\r\n      'state': '',\r\n      'url': '',\r\n      'entry': '',\r\n      'controllers': [],\r\n      'templates': [],\r\n      'params': '',\r\n      'stateGo': false\r\n    }\r\n  };\r\n\r\n  module.getQueryString = ()=> {\r\n    let query      = window.location.search.substring(1);\r\n    let  params    = {};\r\n    let  temp      = [];\r\n    let itemTemp   = [];\r\n    let  i         = 0;\r\n    let  len;\r\n\r\n    if ( query === '' ) {\r\n      return false;\r\n    }\r\n    if ( query.indexOf('&') !== -1 ) {\r\n      temp = query.split('&');\r\n\r\n    } else {\r\n      temp.push(query);\r\n    }\r\n    len = temp.length;\r\n    for (; i<len; i++ ) {\r\n      itemTemp = temp[i].split('=');\r\n      params[itemTemp[0]] = itemTemp[1];\r\n    }\r\n    return params;\r\n  };\r\n\r\n  module.cleanQueryString = ()=> {\r\n    let url = window.location.href;\r\n\r\n    url = url.split('?').shift();\r\n    window.history.pushState({},'', url);\r\n  };\r\n\r\n  module.executeFunction = (functionName, _context_)=> {\r\n    let context     = _context_ || window;\r\n    let args        = Array.prototype.slice.call(arguments, 2);\r\n    let namespaces  = functionName.split('.');\r\n    let func        = namespaces.pop();\r\n    let i           = 0;\r\n    let len         = namespaces.length;\r\n\r\n\r\n    for (; i < len; i++) {\r\n      context = context[namespaces[i]];\r\n    }\r\n    return context[func].apply(context, args);\r\n  };\r\n\r\n  module.findRouteByUrl = ()=> {\r\n    let states        = globals.getAllStates();\r\n    let len           = states.length;\r\n    let i             = 0;\r\n    let stateSelected = false;\r\n    let hash          = location.hash.replace('#', '');\r\n\r\n    for (; i<len; i++) {\r\n      if ( states[i].url === hash ) {\r\n        stateSelected = states[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    return stateSelected;\r\n  };\r\n\r\n  module.findRouteByState = (state)=> {\r\n    let states        = globals.getAllStates();\r\n    let len           = states.length;\r\n    let i             = 0;\r\n    let stateSelected = false;\r\n\r\n    for (; i<len; i++) {\r\n      if ( states[i].state === state ) {\r\n        stateSelected = states[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    return stateSelected;\r\n  };\r\n\r\n  module.stateIsDefined = (state)=> {\r\n    if ( self.findRouteByState() ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  return {\r\n    init:               module.init,\r\n    stateGo:            module.stateGo,\r\n    getQueryString:     module.getQueryString,\r\n    cleanQueryString:   module.cleanQueryString,\r\n    findRouteByState:   module.findRouteByState,\r\n    stateIsDefined:     module.stateIsDefined\r\n  };\r\n\r\n} )();\r\n","/**\r\n * @namespace utils\r\n * @description La idea es que este módulo vaya creciendo con utilidades generales.\r\n */\r\n\r\n'use strict';\r\n\r\nconst utils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  /**\r\n  * @memberof utils#\r\n  * @method\r\n  * @name viewPort\r\n  * @description Devuelve el navegador del cliente: isAndroid, isiOS, isFirefox,isMobile\r\n  * @return {object}\r\n  */\r\n  module.viewPort = ()=> {\r\n    let isAndroid = navigator.userAgent.match(/Android/i) !== null;\r\n    let isiOS     = navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)/i) !== null;\r\n    let isFirefox = navigator.userAgent.match(/Firefox/i) !== null;\r\n    let isMobile  = isiOS || isAndroid;\r\n\r\n    let getNavigator = {\r\n      'isAndroid': isAndroid,\r\n      'isiOS': isiOS,\r\n      'isMobile': isMobile,\r\n      'isFirefox': isFirefox\r\n    };\r\n    return getNavigator;\r\n  };\r\n\r\n  return {\r\n    viewPort: module.viewPort\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace viewstUtils\r\n * @description utilities views (screens)\r\n */\r\n\r\nconst viewsUtils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.renderTemplate = function(_data_, _source_, _container_) {\r\n    let source            = document.getElementById(_source_).innerHTML;\r\n    let template          = Handlebars.compile(source);\r\n    let compiledTemplate  = template(_data_);\r\n    let container         = _container_ || 'argos-main-stage';\r\n\r\n    document.getElementById(container).innerHTML = compiledTemplate;\r\n  };\r\n\r\n  return {\r\n    renderTemplate: module.renderTemplate\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace views\r\n * @description manage templates and controllers lazy load. argos-views-utils.js\r\n */\r\nconst views = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.ctrlsLoaded    = [];\r\n  module.tplsLoaded     = [];\r\n  module.stateSelected  = {};\r\n\r\n  module.loadView = (state)=> {\r\n    let deferred          = Q.defer();\r\n    let len               = 0;\r\n    let stateSelected     = {};\r\n    let scriptsContainer  = document.getElementById('argos-scripts-container');\r\n    let tplsContainer     = document.getElementById('argos-templates-container');\r\n    let allPromisses      = [];\r\n    let currentCtrl       = '';\r\n\r\n    self.ctrlsLoaded    = [];\r\n    self.tplsLoaded     = [];\r\n    self.stateSelected  = {};\r\n\r\n    if ( !scriptsContainer || !tplsContainer ) {\r\n      log.error('nodes for lazy load are mandatory');\r\n    }\r\n\r\n    /* todo: llevar a un método empty() de argosDom */\r\n    while (scriptsContainer.firstChild) {\r\n      currentCtrl = scriptsContainer.firstChild.getAttribute('data-ctrl');\r\n      if ( window.hasOwnProperty(currentCtrl) ) {\r\n        delete window[currentCtrl];\r\n      }\r\n      scriptsContainer.removeChild(scriptsContainer.firstChild);\r\n    }\r\n    while (tplsContainer.firstChild) {\r\n      tplsContainer.removeChild(tplsContainer.firstChild);\r\n    }\r\n    self.stateSelected = router.findRouteByState(state);\r\n\r\n    len = self.stateSelected.controllers.length;\r\n    while(len--) {\r\n      self.loadControllers(state, self.stateSelected.controllers[len]);\r\n    }\r\n\r\n    len = self.stateSelected.templates.length;\r\n    while(len--) {\r\n      allPromisses.push(self.loadTemplates(state, self.stateSelected.templates[len]));\r\n    }\r\n\r\n    Q.all(allPromisses).then( (results)=> {\r\n      self.checkAllReady().then( ()=> {\r\n        let timeout = setTimeout(function() {\r\n          deferred.resolve();\r\n          clearTimeout(timeout);\r\n        }, 50);\r\n      });\r\n    }, (error)=> {\r\n      log.error('error get controller data: '+state);\r\n      deferred.reject();\r\n    });\r\n\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.getNameController  = (controller)=> {\r\n    let ctrlName = controller.split('-');\r\n    let name = ctrlName.shift();\r\n    let i = 0;\r\n    let len = ctrlName.length;\r\n\r\n    for (; i<len; i++) {\r\n      name += ctrlName[i].charAt(0).toUpperCase() + ctrlName[i].slice(1);\r\n    }\r\n    return name;\r\n  };\r\n\r\n  module.loadControllers = (state, controller)=> {\r\n    let nodeScript      = document.createElement('script');\r\n    let controllerName  = self.getNameController(controller);\r\n\r\n    nodeScript.type   = 'text\\/javascript';\r\n    nodeScript.src    = './shell/theme/views/' +  state + '/' + controller + '.js';\r\n    nodeScript.id     = 'js-' + controller;\r\n    nodeScript.onload = self.addCtrlLoaded(controller);\r\n    document.getElementById('argos-scripts-container').appendChild(nodeScript);\r\n    nodeScript.setAttribute('data-ctrl', controllerName);\r\n  };\r\n\r\n  module.loadTemplates = (state, template)=> {\r\n    let req = new XMLHttpRequest();\r\n    let templatePath = './shell/theme/views/' +  state + '/' + template + '.html';\r\n\r\n    req.open('GET', templatePath, true);\r\n\r\n    req.onreadystatechange = function() {\r\n      let templateScript;\r\n      if (req.readyState === 4 && req.status === 200) {\r\n        templateScript = document.createElement('div');\r\n        templateScript.innerHTML = req.responseText;\r\n        document.getElementById('argos-templates-container').appendChild(templateScript);\r\n      }\r\n    };\r\n\r\n    req.send();\r\n  };\r\n\r\n  module.addCtrlLoaded = (controller)=> {\r\n    self.ctrlsLoaded.push(controller);\r\n  };\r\n\r\n  module.checkAllReady = ()=> {\r\n    let deferred  = Q.defer();\r\n    let check     = true;\r\n    let entryCtrl = self.stateSelected.entry.split('.').shift().toString();\r\n\r\n    if ( self.ctrlsLoaded.length === !self.stateSelected.controllers.length ) {\r\n      check = false;\r\n    }\r\n\r\n    if ( check ) {\r\n      deferred.resolve();\r\n    } else {\r\n      self.timer();\r\n    }\r\n\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.timer = ()=> {\r\n    let timeout = setTimeout(function() {\r\n      self.checkAllReady();\r\n      clearTimeout(timeout);\r\n    }, 10);\r\n  };\r\n\r\n  return {\r\n    loadView: module.loadView\r\n  };\r\n\r\n} )();\r\n"],"sourceRoot":"/source/"}